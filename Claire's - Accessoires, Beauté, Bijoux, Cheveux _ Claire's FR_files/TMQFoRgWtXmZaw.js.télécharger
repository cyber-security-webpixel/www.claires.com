/*  Rapid+JS v8.1.0 Released on 2024-05-08T14:03Z | (c) Yottaa, Inc. | https://www.yottaa.com/rapidjs-license */ var $yojscomp=$yojscomp||{};$yojscomp.scope={};$yojscomp.arrayIteratorImpl=function(d){var l=0;return function(){return l<d.length?{done:!1,value:d[l++]}:{done:!0}}};$yojscomp.arrayIterator=function(d){return{next:$yojscomp.arrayIteratorImpl(d)}};$yojscomp.makeIterator=function(d){var l='undefined'!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];return l?l.call(d):$yojscomp.arrayIterator(d)}; $yojscomp.getGlobal=function(d){return'undefined'!=typeof window&&window===d?d:'undefined'!=typeof global&&null!=global?global:d};$yojscomp.global=$yojscomp.getGlobal(this);$yojscomp.ASSUME_ES5=!1;$yojscomp.ASSUME_NO_NATIVE_MAP=!1;$yojscomp.ASSUME_NO_NATIVE_SET=!1;$yojscomp.SIMPLE_FROUND_POLYFILL=!1;$yojscomp.defineProperty=$yojscomp.ASSUME_ES5||'function'==typeof Object.defineProperties?Object.defineProperty:function(d,l,n){d!=Array.prototype&&d!=Object.prototype&&(d[l]=n.value)}; $yojscomp.polyfill=function(d,l,n,u){if(l){n=$yojscomp.global;d=d.split('.');for(u=0;u<d.length-1;u++){var p=d[u];p in n||(n[p]={});n=n[p]}d=d[d.length-1];u=n[d];l=l(u);l!=u&&null!=l&&$yojscomp.defineProperty(n,d,{configurable:!0,writable:!0,value:l})}};$yojscomp.FORCE_POLYFILL_PROMISE=!1; $yojscomp.polyfill('Promise',function(d){function l(){this.batch_=null}function n(d){return d instanceof p?d:new p(function(l,n){l(d)})}if(d&&!$yojscomp.FORCE_POLYFILL_PROMISE)return d;l.prototype.asyncExecute=function(d){if(null==this.batch_){this.batch_=[];var l=this;this.asyncExecuteFunction(function(){l.executeBatch_()})}this.batch_.push(d)};var u=$yojscomp.global.setTimeout;l.prototype.asyncExecuteFunction=function(d){u(d,0)};l.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var d= this.batch_;this.batch_=[];for(var l=0;l<d.length;++l){var n=d[l];d[l]=null;try{n()}catch(ia){this.asyncThrow_(ia)}}}this.batch_=null};l.prototype.asyncThrow_=function(d){this.asyncExecuteFunction(function(){throw d;})};var p=function(d){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var l=this.createResolveAndReject_();try{d(l.resolve,l.reject)}catch(ha){l.reject(ha)}};p.prototype.createResolveAndReject_=function(){function d(d){return function(z){n||(n=!0,d.call(l,z))}}var l=this, n=!1;return{resolve:d(this.resolveTo_),reject:d(this.reject_)}};p.prototype.resolveTo_=function(d){if(d===this)this.reject_(new TypeError('A Promise cannot resolve to itself'));else if(d instanceof p)this.settleSameAsPromise_(d);else{a:switch(typeof d){case 'object':var l=null!=d;break a;case 'function':l=!0;break a;default:l=!1}l?this.resolveToNonPromiseObj_(d):this.fulfill_(d)}};p.prototype.resolveToNonPromiseObj_=function(d){var l=void 0;try{l=d.then}catch(ha){this.reject_(ha);return}'function'== typeof l?this.settleSameAsThenable_(l,d):this.fulfill_(d)};p.prototype.reject_=function(d){this.settle_(2,d)};p.prototype.fulfill_=function(d){this.settle_(1,d)};p.prototype.settle_=function(d,l){if(0!=this.state_)throw Error('Cannot settle('+d+', '+l+'): Promise already settled in state'+this.state_);this.state_=d;this.result_=l;this.executeOnSettledCallbacks_()};p.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var d=0;d<this.onSettledCallbacks_.length;++d)A.asyncExecute(this.onSettledCallbacks_[d]); this.onSettledCallbacks_=null}};var A=new l;p.prototype.settleSameAsPromise_=function(d){var l=this.createResolveAndReject_();d.callWhenSettled_(l.resolve,l.reject)};p.prototype.settleSameAsThenable_=function(d,l){var n=this.createResolveAndReject_();try{d.call(l,n.resolve,n.reject)}catch(ia){n.reject(ia)}};p.prototype.then=function(d,l){function n(d,l){return'function'==typeof d?function(l){try{u(d(l))}catch(oa){z(oa)}}:l}var u,z,A=new p(function(d,l){u=d;z=l});this.callWhenSettled_(n(d,u),n(l,z)); return A};p.prototype.catch=function(d){return this.then(void 0,d)};p.prototype.callWhenSettled_=function(d,l){function n(){switch(p.state_){case 1:d(p.result_);break;case 2:l(p.result_);break;default:throw Error('Unexpected state: '+p.state_);}}var p=this;null==this.onSettledCallbacks_?A.asyncExecute(n):this.onSettledCallbacks_.push(n)};p.resolve=n;p.reject=function(d){return new p(function(l,n){n(d)})};p.race=function(d){return new p(function(l,p){for(var u=$yojscomp.makeIterator(d),A=u.next();!A.done;A= u.next())n(A.value).callWhenSettled_(l,p)})};p.all=function(d){var l=$yojscomp.makeIterator(d),u=l.next();return u.done?n([]):new p(function(d,p){function A(l){return function(n){z[l]=n;Z--;0==Z&&d(z)}}var z=[],Z=0;do z.push(void 0),Z++,n(u.value).callWhenSettled_(A(z.length-1),p),u=l.next();while(!u.done)})};return p},'es6','es3');$yojscomp.SYMBOL_PREFIX='jscomp_symbol_';$yojscomp.initSymbol=function(){$yojscomp.initSymbol=function(){};$yojscomp.global.Symbol||($yojscomp.global.Symbol=$yojscomp.Symbol)}; $yojscomp.SymbolClass=function(d,l){this.$yojscomp$symbol$id_=d;$yojscomp.defineProperty(this,'description',{configurable:!0,writable:!0,value:l})};$yojscomp.SymbolClass.prototype.toString=function(){return this.$yojscomp$symbol$id_};$yojscomp.Symbol=function(){function d(n){if(this instanceof d)throw new TypeError('Symbol is not a constructor');return new $yojscomp.SymbolClass($yojscomp.SYMBOL_PREFIX+(n||'')+'_'+l++,n)}var l=0;return d}(); $yojscomp.initSymbolIterator=function(){$yojscomp.initSymbol();var d=$yojscomp.global.Symbol.iterator;d||(d=$yojscomp.global.Symbol.iterator=$yojscomp.global.Symbol('Symbol.iterator'));'function'!=typeof Array.prototype[d]&&$yojscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $yojscomp.iteratorPrototype($yojscomp.arrayIteratorImpl(this))}});$yojscomp.initSymbolIterator=function(){}}; $yojscomp.initSymbolAsyncIterator=function(){$yojscomp.initSymbol();var d=$yojscomp.global.Symbol.asyncIterator;d||(d=$yojscomp.global.Symbol.asyncIterator=$yojscomp.global.Symbol('Symbol.asyncIterator'));$yojscomp.initSymbolAsyncIterator=function(){}};$yojscomp.iteratorPrototype=function(d){$yojscomp.initSymbolIterator();d={next:d};d[$yojscomp.global.Symbol.iterator]=function(){return this};return d};$yojscomp.underscoreProtoCanBeSet=function(){var d={a:!0},l={};try{return l.__proto__=d,l.a}catch(n){}return!1}; $yojscomp.setPrototypeOf='function'==typeof Object.setPrototypeOf?Object.setPrototypeOf:$yojscomp.underscoreProtoCanBeSet()?function(d,l){d.__proto__=l;if(d.__proto__!==l)throw new TypeError(d+' is not extensible');return d}:null;$yojscomp.generator={};$yojscomp.generator.ensureIteratorResultIsObject_=function(d){if(!(d instanceof Object))throw new TypeError('Iterator result '+d+' is not an object');}; $yojscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$yojscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError('Generator is already running');this.isRunning_=!0};$yojscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1}; $yojscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$yojscomp.generator.Context.prototype.next_=function(d){this.yieldResult=d};$yojscomp.generator.Context.prototype.throw_=function(d){this.abruptCompletion_={exception:d,isException:!0};this.jumpToErrorHandler_()};$yojscomp.generator.Context.prototype.return=function(d){this.abruptCompletion_={return:d};this.nextAddress=this.finallyAddress_}; $yojscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(d){this.abruptCompletion_={jumpTo:d};this.nextAddress=this.finallyAddress_};$yojscomp.generator.Context.prototype.yield=function(d,l){this.nextAddress=l;return{value:d}};$yojscomp.generator.Context.prototype.yieldAll=function(d,l){d=$yojscomp.makeIterator(d);var n=d.next();$yojscomp.generator.ensureIteratorResultIsObject_(n);if(n.done)this.yieldResult=n.value,this.nextAddress=l;else return this.yieldAllIterator_=d,this.yield(n.value,l)}; $yojscomp.generator.Context.prototype.jumpTo=function(d){this.nextAddress=d};$yojscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$yojscomp.generator.Context.prototype.setCatchFinallyBlocks=function(d,l){this.catchAddress_=d;void 0!=l&&(this.finallyAddress_=l)};$yojscomp.generator.Context.prototype.setFinallyBlock=function(d){this.catchAddress_=0;this.finallyAddress_=d||0};$yojscomp.generator.Context.prototype.leaveTryBlock=function(d,l){this.nextAddress=d;this.catchAddress_=l||0}; $yojscomp.generator.Context.prototype.enterCatchBlock=function(d){this.catchAddress_=d||0;d=this.abruptCompletion_.exception;this.abruptCompletion_=null;return d};$yojscomp.generator.Context.prototype.enterFinallyBlock=function(d,l,n){n?this.finallyContexts_[n]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=d||0;this.finallyAddress_=l||0}; $yojscomp.generator.Context.prototype.leaveFinallyBlock=function(d,l){l=this.finallyContexts_.splice(l||0)[0];if(l=this.abruptCompletion_=this.abruptCompletion_||l){if(l.isException)return this.jumpToErrorHandler_();void 0!=l.jumpTo&&this.finallyAddress_<l.jumpTo?(this.nextAddress=l.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=d};$yojscomp.generator.Context.prototype.forIn=function(d){return new $yojscomp.generator.Context.PropertyIterator(d)}; $yojscomp.generator.Context.PropertyIterator=function(d){this.object_=d;this.properties_=[];for(var l in d)this.properties_.push(l);this.properties_.reverse()};$yojscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var d=this.properties_.pop();if(d in this.object_)return d}return null};$yojscomp.generator.Engine_=function(d){this.context_=new $yojscomp.generator.Context;this.program_=d}; $yojscomp.generator.Engine_.prototype.next_=function(d){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,d,this.context_.next_);this.context_.next_(d);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.return_=function(d){this.context_.start_();var l=this.context_.yieldAllIterator_;if(l)return this.yieldAllStep_('return'in l?l['return']:function(d){return{value:d,done:!0}},d,this.context_.return);this.context_.return(d);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.throw_=function(d){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_['throw'],d,this.context_.next_);this.context_.throw_(d);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.yieldAllStep_=function(d,l,n){try{var u=d.call(this.context_.yieldAllIterator_,l);$yojscomp.generator.ensureIteratorResultIsObject_(u);if(!u.done)return this.context_.stop_(),u;var p=u.value}catch(A){return this.context_.yieldAllIterator_=null,this.context_.throw_(A),this.nextStep_()}this.context_.yieldAllIterator_=null;n.call(this.context_,p);return this.nextStep_()}; $yojscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var d=this.program_(this.context_);if(d)return this.context_.stop_(),{value:d.value,done:!1}}catch(l){this.context_.yieldResult=void 0,this.context_.throw_(l)}this.context_.stop_();if(this.context_.abruptCompletion_){d=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(d.isException)throw d.exception;return{value:d.return,done:!0}}return{value:void 0,done:!0}}; $yojscomp.generator.Generator_=function(d){this.next=function(l){return d.next_(l)};this.throw=function(l){return d.throw_(l)};this.return=function(l){return d.return_(l)};$yojscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$yojscomp.generator.createGenerator=function(d,l){l=new $yojscomp.generator.Generator_(new $yojscomp.generator.Engine_(l));$yojscomp.setPrototypeOf&&$yojscomp.setPrototypeOf(l,d.prototype);return l}; $yojscomp.asyncExecutePromiseGenerator=function(d){function l(l){return d.next(l)}function n(l){return d.throw(l)}return new Promise(function(u,p){function A(d){d.done?u(d.value):Promise.resolve(d.value).then(l,n).then(A,p)}A(d.next())})};$yojscomp.asyncExecutePromiseGeneratorFunction=function(d){return $yojscomp.asyncExecutePromiseGenerator(d())};$yojscomp.asyncExecutePromiseGeneratorProgram=function(d){return $yojscomp.asyncExecutePromiseGenerator(new $yojscomp.generator.Generator_(new $yojscomp.generator.Engine_(d)))}; $yojscomp.checkStringArgs=function(d,l,n){if(null==d)throw new TypeError("The 'this' value for String.prototype."+n+' must not be null or undefined');if(l instanceof RegExp)throw new TypeError('First argument to String.prototype.'+n+' must not be a regular expression');return d+''}; $yojscomp.polyfill('String.prototype.startsWith',function(d){return d?d:function(d,n){var l=$yojscomp.checkStringArgs(this,d,'startsWith');d+='';var p=l.length,A=d.length;n=Math.max(0,Math.min(n|0,l.length));for(var z=0;z<A&&n<p;)if(l[n++]!=d[z++])return!1;return z>=A}},'es6','es3'); $yojscomp.iteratorFromArray=function(d,l){$yojscomp.initSymbolIterator();d instanceof String&&(d+='');var n=0,u={next:function(){if(n<d.length){var p=n++;return{value:l(p,d[p]),done:!1}}u.next=function(){return{done:!0,value:void 0}};return u.next()}};u[Symbol.iterator]=function(){return u};return u};$yojscomp.polyfill('Array.prototype.keys',function(d){return d?d:function(){return $yojscomp.iteratorFromArray(this,function(d){return d})}},'es6','es3'); $yojscomp.findInternal=function(d,l,n){d instanceof String&&(d=String(d));for(var u=d.length,p=0;p<u;p++){var A=d[p];if(l.call(n,A,p,d))return{i:p,v:A}}return{i:-1,v:void 0}};$yojscomp.polyfill('Array.prototype.find',function(d){return d?d:function(d,n){return $yojscomp.findInternal(this,d,n).v}},'es6','es3');$yojscomp.polyfill('Object.is',function(d){return d?d:function(d,n){return d===n?0!==d||1/d===1/n:d!==d&&n!==n}},'es6','es3'); $yojscomp.polyfill('Array.prototype.includes',function(d){return d?d:function(d,n){var l=this;l instanceof String&&(l=String(l));var p=l.length;n=n||0;for(0>n&&(n=Math.max(n+p,0));n<p;n++){var A=l[n];if(A===d||Object.is(A,d))return!0}return!1}},'es7','es3');$yojscomp.polyfill('String.prototype.includes',function(d){return d?d:function(d,n){return-1!==$yojscomp.checkStringArgs(this,d,'includes').indexOf(d,n||0)}},'es6','es3'); $yojscomp.polyfill('Array.from',function(d){return d?d:function(d,n,u){n=null!=n?n:function(d){return d};var l=[],A='undefined'!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];if('function'==typeof A){d=A.call(d);for(var z=0;!(A=d.next()).done;)l.push(n.call(u,A.value,z++))}else for(A=d.length,z=0;z<A;z++)l.push(n.call(u,d[z],z));return l}},'es6','es3'); (function(d,l){return l(d)})('undefined'!==typeof window?window:this,function(d,l){function n(a){return f.rum.key+'-'+a}function u(){for(var a=f.rum.key?f.rum.key:h.getCookie('yo-rum-key'),b=0,c=0,e=0,k=0;k<f.delayed.length;k++){var q=f.delayed[k];'none'!=q.orgDelayType&&(pa='active',q.newNode&&q.newNode.nodeName?'img'==q.newNode.nodeName.toLowerCase()?c++:'script'==q.newNode.nodeName.toLowerCase()&&'attributesrc'!=q.type&&b++:q.me&&q.me.nodeName&&'script'==q.me.nodeName.toLowerCase()&&e++)}k=null!= a?a:d.location.hostname;a=va;q=x.releaseDate;var H=document.location.href,l=navigator.userAgent,m=document.title,p=wa,u=h.hasResourceTiming()&&h.def(d.performance.timing.toJSON),y=h.hasResourceTiming(),A=h.hasResourceTiming(),B=h.metaDataValue('X-Yottaa-Optimizations'),r=(new Date).getTime();if(0==h.hasResourceTiming()||0==h.def(d.performance.getEntriesByType))var C={};else{C=d.performance.getEntriesByType('resource');for(var w=C.length,v={},t=0;t<w;t++){var z=C[t],D=v[z.initiatorType];D?(D.count++, D.size+=z.decodedBodySize):v[z.initiatorType]={count:1,size:z.decodedBodySize}}C=v}b={siteKey:k,uuid:a,formatVersion:'3',releaseDate:q,requestType:'navigation',fullPageURL:H,pageCategory:'',userAgent:l,pageTitle:m,lastInteraction:p,isNavigationSupported:u,isResourceTimingSupported:y,isPaintTimingSupported:A,yOptimizations:B,eventTimestamp:r,entryMap:C,domElementCount:document.getElementsByTagName('*').length,pagePrefetched:_isPagePrefetched(),maxScrollDepth:x.maxScrollDepth,sequencing:{numScriptsSequenced:b, numImagesSequenced:c,numBlocksSequenced:e,numDelayedObjects:f.delayed.length},commonDimensions:{}};f.rum.pageCategory&&(b.pageCategory=f.rum.pageCategory);x.geo&&(b.geo=x.geo);c=navigator.connection||navigator.mozConnection||navigator.webkitConnection;b.connection={};1==g.def(c)&&(b.connection.effectiveType=c.effectiveType,b.connection.rtt=c.rtt);for(var F in aa)b.commonDimensions[F]=aa[F];b.commonDimensions.optState||(b.commonDimensions.optState=pa);try{if(d.localStorage&&localStorage.getItem){var E= localStorage.getItem(n('rapid-js-visitor-3'));if(null!=E){E=JSON.parse(E);var G=(new Date).getTime()>E.visitorTimestamp+f.sessionTimeout;b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:E.numVisitorPageViews+1,numSessionPageViews:G?1:E.numSessionPageViews+1,visitorId:E.visitorId?E.visitorId:h.uuid(),numSessions:G?E.numSessions+1:E.numSessions,sessionId:G?h.uuid():E.sessionId,bandwidth:''}}else b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:1,numSessionPageViews:1, numSessions:1,visitorId:h.uuid(),sessionId:h.uuid(),bandwidth:''};localStorage.setItem(n('rapid-js-visitor-3'),JSON.stringify(b.visitor));var I=localStorage.getItem(n('rapid-js-qoe-5'));null!=I&&(b.qoe=JSON.parse(I))}}catch(vb){h.log('localStorage was not available',vb)}1==b.isNavigationSupported&&!0!==f.rum.spa&&(b.navigationTiming=d.performance.timing.toJSON(),b.experienceMetrics=P,Va&&(b.webVitalsInfo=Q));b.isPaintTimingSupported=!1;b.paintTiming={};b.userTiming={};b.measureTiming={};if(d.performance&& d.performance.getEntriesByType){F=d.performance.getEntriesByType('paint');if(null!=F&&0<F.length)for(b.isPaintTimingSupported=!0,k=0;k<F.length;k++)b.paintTiming[F[k].name]=F[k].startTime;F=d.performance.getEntriesByType('mark');if(null!=F&&0<F.length)for(k=0;k<F.length;k++)b.userTiming[F[k].name]=F[k].startTime;F=d.performance.getEntriesByType('measure');if(null!=F&&0<F.length)for(k=0;k<F.length;k++)b.measureTiming[F[k].name]=F[k].duration}x.rum=b}function p(a){for(var b=0;b<f.delayed.length;b++){var c= f.delayed[b];if(c.src==a||c.srcAttr==a)return c}return null}function A(a,b,c,e){a={lastByteTime:c.duration,implementationType:'dom',type:a,zone:b,resourceName:c.name,resourceSizeBytes:c.decodedBodySize};c=p(c.name);null!=c&&(a.delayedType=c.orgDelayType,a.delayedValue=c.delayValue);g.def(e)&&(a.stack=e);return a}function z(a){if(0!=h.hasResourceTiming()){try{if(!d.localStorage||!d.localStorage.getItem)return}catch(Ua){h.log('localStorage was not available');return}var b=x.rum,c=[],e=d.performance.timing, k=0,q=0,H=e.domInteractive-e.navigationStart,l=e.domContentLoadedEventEnd-e.navigationStart,m=e.domComplete-e.navigationStart,u=e.loadEventEnd-e.navigationStart,B=d.performance.getEntries();e=B.length;a:{if(document.querySelector){var r=document.querySelector('img[class*=hero]');if(null!=r){r=r.currentSrc||r.src;break a}}for(var w=document.getElementsByTagName('img'),z=null,v=0,C=document.documentElement.scrollTop||document.body.scrollTop,t=0;t<w.length;t++){r=w[t];var D=r.getBoundingClientRect(); if(D.top-C<d.innerHeight)D.width*D.height>v&&(z=r.currentSrc||r.src,v=D.width*D.height);else break}r=z}for(w=0;w<e;w++)C=B[w],z=C.startTime,t=0,'resource'==C.entryType&&(z<=H?(q+=f.rum.advanced.domInteractiveCoef,t=1):z<=l?(q+=f.rum.advanced.domContentLoadedEventCoef,t=2):z<=m?(q+=f.rum.advanced.domCompleteCoef,t=3):z<=u||a&&w<a?(q+=f.rum.advanced.loadEventCoef,t=4):0<C.duration&&(k+=C.duration),v=xa[C.name],0!=t&&C.duration>f.rum.advanced.blockingTime?R.push(A(4,t,C,v)):0==t&&C.duration>f.rum.advanced.performanceTime&& R.push(A(0,t,C,v)),C.decodedBodySize>f.rum.advanced.violationSize&&R.push(A(1,t,C,v)),1==C.name.toLowerCase().startsWith('https:')&&1==C.name.toLowerCase().startsWith('http:')&&R.push(A(3,t,C,v)),r==C.name&&(y.setExperienceMetric('hero_image_display',C.startTime+C.duration),y.setExperienceMetric('hero_image',r)),C.toJSON&&(C=C.toJSON(),C.implementationType='dom',g.def(v)&&(C.stack=v),v=p(C.name),null!=v&&(C.delayedType=v.orgDelayType,C.delayedValue=v.delayValue),C.onLoadStartTime=z-u,c.push(C))); 1<e&&g._calculateTti(B,e,u);d.performance.getEntriesByName&&!0!==f.rum.spaTransition&&(a=document.getElementsByTagName('script'),ya(a,'src'),a=document.getElementsByTagName('link'),ya(a,'href'),a=document.getElementsByTagName('img'),ya(a,'currentSrc'));a=localStorage.getItem(n('rapid-js-qoe-5'));null==a?a={sessionTimeSaved:k,journeyTime:k}:(a=JSON.parse(a),a={sessionTimeSaved:(new Date).getTime()>a.collectionTimestamp+f.sessionTimeout?k:a.sessionTimeSaved+k,journeyTime:a.journeyTime+k});a.entries= e;a.timeSaved=k;a.score=q;a.pageMeasured=b?b.fullPageURL:d.location.href;a.pageMeasuredCategory=b?b.pageCategory:'';a.violations=R;!0===f.rum.requests&&(a.resourceTiming=c);a.jsErrors=za;a.domElementCount=document.getElementsByTagName('*').length;a.maxScrollDepth=x.maxScrollDepth;a.pageMeasuredPrefetched=b.pagePrefetched;a.pageMeasuredUuid=va;a.lastInteraction=wa;a.serviceWorkers=x.serviceWorkers||{};a.serviceWorkers.yottaaConfig=x.config.serviceWorker;a.collectionTimestamp=(new Date).getTime();a.commonDimensions= {};for(var E in aa)a.commonDimensions[E]=aa[E];a.experienceMetrics=P;Va&&(a.webVitalsInfo=Q);a.commonDimensions.optState||(a.commonDimensions.optState=pa);try{!0!==f.sendRumOnUnload?localStorage.setItem(n('rapid-js-qoe-5'),JSON.stringify(a)):b.qoe=a}catch(Ua){g.log('LocalStorage failed to save',Ua)}}}function qb(a){if(d.performance&&d.performance.getEntriesByType)for(var b=d.performance.getEntriesByType('resource'),c=0;c<b.length;c++)if(b[c].name===a)return c;return-1}function ha(a,b,c,e){if(f.sequenceWrites&& 'script'==a.nodeName.toLowerCase()){for(var k in J)0<J[k].length&&e.writeSelector!=J[k][0].getWriteSelector()&&g.def(e.writeSelector)&&(a.yo_writeSelector=e.writeSelector);g.def(e.writeSelector)&&g.def(e.writeSelector.nodeName)&&(e.writeSelector.id?e.writeSelector='#'+e.writeSelector.id:(b='yo_write_'+Math.floor(1E9*Math.random()),e.writeSelector.setAttribute('id',b),e.writeSelector='#'+b));k=g.select(e.writeSelector);if(null!=k){e=new G(k,{src:a},e);e.initialize();a.write_context=e;a.original_onload= a.onload;a.original_onreadystatechange=a.onreadystatechange;a.onload=a.onreadystatechange=null;var d=!1;a.onerror=a.onload=function(){d||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(g.log('loading ',this,this.write_context.getId()),d=!0,this.original_onload?this.original_onload.call(arguments):m.publish({topic:'sequence/afterloaded/'+a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange= null)};a.onreadystatechange=function(){d||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(g.log('loading ',this,this.write_context.getId()),d=!0,this.original_onload||m.publish({topic:'sequence/afterloaded/'+a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange=null);this.original_onreadystatechange&&this.original_onreadystatechange.call(arguments)}}}return!0}function ia(a,b){for(;a.firstChild;)a.removeChild(a.firstChild); g.writeHTML(a,b)}function rb(){if(0!=f.afterShockLoaded){for(var a=0;a<f.delayed.length;a++)if('none'!=f.delayed[a].delayType)return;null!=f.intervalID&&(clearInterval(f.intervalID),f.intervalID=null,g.log('Turning off response timer all objects are loaded.'))}}function Ta(a){f.sequenceWrites&&g.undef(a.yo_write)&&(a.yo_write=a.write,Aa=sb,a.writeln=a.write=function(){var b=Array.prototype.slice.call(arguments).join('');Aa(b,a)})}function sb(a,b){for(var c=!1,e=0;e<f.write.length;e++){var k=f.write[e]; if(a.match(k.start)||1==k.state){e={document:b};for(var d in k)e[d]=k[d];c=!0;k.string&&0==Ba?k.string+=a:(k.state=1,k.string=a);if(g.undef(k.end)||a.match(k.end)){if(g.undef(e.delayType)||'none'==e.delayType){k.config=e;if(g.def(e.onBefore))e.onBefore(k,b);g.undef(e.selector)||null==e.selector?e.selector=b:e.selector=g.select(e.selector);e.selector.yo_write?(Ba=!0,-1!=k.string.indexOf('m_js_controller.js')&&(Ba=!0),e.selector.yo_write(k.string)):g.writeHTML(e.selector,k.string,e.how);if(g.def(e.onAfter))e.onAfter(k, b)}else g.undef(e.selector)?(e.selector='yo_write_'+Math.floor(1E9*Math.random()),g.undef(e.how)&&(e.how='append'),g.undef(e.delayValue)&&(e.delayValue=e.selector),document.yo_write('<di'+'v id='+e.selector+' style=width:0px;height:0px></di'+'v>'),e.selector=g.select(e.selector).parentNode):e.selector=g.select(e.selector),d=Yo.sequence.resource(''),g.def(e.onBefore)&&d.beforeLoading(e.onBefore),g.def(e.onLoad)&&d.afterLoaded(e.onLoad),d.type='inner',d.how=k.how,d.newNode=a,d.before=e.selector,d.me=e.selector, f.delayed.push(d),domCompleteTriggered&&d.execute();k.state=2;k.string=''}break}}0==c&&b.yo_write(a);g.log('write hander = '+a)}function Z(a){return function(b,c){var e='on'+b.toLowerCase(),k=K[e];g.log('loadEventSequencing: _addListener via fireLoadEvents',b,c,e);if(k)0==ba?ca(function(){try{g.log('loadEventSequencing: triggger event immediately not async',k),c.call(k.object||d,k.event)}catch(H){g.log('loadEventSequencing: Overridden event listener threw an exception',H)}},0):(k.listeners.push(c), k.stacks.push(Error().stack));else try{var q=Array.prototype.slice.call(arguments,0);return a?this.yo_addEventListener.apply(this,q):this.yo_attachEvent.apply(this,q)}catch(H){g.log('loadEventSequencing: Overridden event listener threw an exception',H)}}}function tb(a,b,c){function e(a){g.log('Loading '+c.before.src+' via event handler '+c.delayValue);c.afterShock();var k=null;g.def(a.currentTarget)?k=a.currentTarget:g.def(a.srcElement)&&(k=a.srcElement);g.removeEvent(k,b[0],e)}g.log('Adding event ', b[0],b[1]);g.addEvent(a,b[0],e)}function oa(a,b){return a.top>b.top-a.height&&a.bottom<b.bottom+f.offset+2*a.height&&a.left>b.left-a.width&&a.right<b.right+f.offset+2*a.width}function wb(a,b){return Ca(this,a,b,'insertBefore')}function xb(a){return Ca(this,a,a,'appendChild')}function yb(){for(var a=0;a<arguments.length;a++){var b=arguments[a];1==h.def(b)&&null!=b&&Ca(this,b,b,'append')}}function Ca(a,b,c,e){if(1!=h.undef(b)&&null!=b){m.publish({topic:'sequence/captured',message:{parentNode:a,newNode:b, before:c,captureType:e}});if(0==qa(b,a,function(a,d){a=a.clone();a.type=e;a.newNode=b;a.src=b?b.src:'';a.before=c;a.me=d;f.delayed.push(a)}))return U.safeWriteInsert(b,c,a,la(b),e);a=f.delayed[f.delayed.length-1];if(domCompleteTriggered||'none'==a.delayType)return a.execute()}}function qa(a,b,c){var e=null,k=null,d=!1;a&&a.nodeName&&(e=a.nodeName.toLowerCase());if('script'==e||'iframe'==e){1==f.log&&g.log('Found',e,'(',a,') beginning analysis for optimization. Callstack',Error().stack);k=la(a);c(k, b);d=!0;var H=!1;a.onreadystatechange&&(a.onreadystatechangeOriginal=a.onreadystatechange,a.onreadystatechange=null);a.onreadystatechange=function(){H||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(m.publish({persistent:!0,topic:'sequence/afterloaded/'+k.key,message:k}),H=!0);if(this.onreadystatechangeOriginal){var a=this.onreadystatechangeOriginal;this.onreadystatechangeOriginal=null;a.apply(this,arguments)}};a.onload&&(a.onloadOriginal=a.onload,a.onload=null);a.onload= function(){0==H&&(m.publish({persistent:!0,topic:'sequence/afterloaded/'+k.key,message:k}),H=!0);if(this.onloadOriginal){var a=this.onloadOriginal;this.onloadOriginal=null;a.apply(this,arguments)}}}else if(k=la(b),null==k||'none'!=k.delayType)c(k,b),k.before=b,d=!0;g.log(a.nodeName+' '+a.src+' is'+(d?' ':' NOT ')+'sequenced.');0==d&&m.publish({topic:'sequence/beforeloading/'+k.key,message:k});return d}function la(a){var b=a.src;1==f.excludeParameters&&b&&b.split&&(b=b.split('?')[0]);1==g.def(a.yo_src)&& (b=a.yo_src);if(null==b||0==b.length){var c=new (_delayed());c.delayType='none';return c}for(c=0;c<f.resources.length;c++){var e=f.resources[c];if(1==e.match&&1==g.matchUrl(e.url,b)||'function'===typeof e.url&&1==e.url(a,e))if(a.nodeName===e.nodeName||'resource'===e.nodeName&&('SCRIPT'===a.nodeName||'IFRAME'===a.nodeName))return g.log('Found configuration for ',b,' delayType ',e.delayType,e.delayValue),'empty'==e.delayType&&(a.src=null==e.delaySrc?'data:text/javascript;plain,//':e.delaySrc,e.delayType= 'none'),e}g.log('Did NOT find configuration for '+b+' checking local configuration. ');c=new (_delayed());c.key=c.src=b;if(null!=a.delayType)'empty'==a.delayType&&(a.src=null==a.delaySrc?'data:text/javascript;plain,//':a.delaySrc,a.delayType='none'),c[a.delayType](a.delayValue);else c[f.defaultType](f.defaultDelay);c.before=a;return c}function Da(){for(var a=0;a<f.resources.length;a++){var b=f.resources[a];if(!b.isConfig){var c=new (_delayed());c.key=c.url=b.url;c.match=!0;c.local=!0;c[b.delayType](b.delayValue); f.resources[a]=c}}}if(d.Yo)return d.Yo;var B={},ca=d.setTimeout,Wa=d.setInterval,r=console.log,L=console.table,f={defaultDelay:5E3,defaultType:'none',log:!1,throttle:20,sequenceXHR:!1,sequenceWrites:!1,sendTimingData:!1,timingDataURL:'',offset:100,scan:['script','img','source','picture'],resources:[],abTesting:[],write:[],intervalID:null,lazyCheckSize:!0,pre:'data-yo-',srcAttrs:['data-yo-src','data-yo-srcset'],afterShockLoaded:!1,optimizeIE:!0,logPrefix:'Yo.utils.log: ',delayed:[],maxMessageSize:2048E3, scriptAttrs:['async','nomodule','defer','crossorigin'],ttiWatcherInterval:3E3,ttiLagTime:2E3,scrapeLevel:'top',sendRumOnUnload:!1,excludeParameters:!1,rumDelay:100,sessionTimeout:18E5,newConfigFetch:!1},h={log:function(){if(f.log&&1==h.def(r)){var a=Array.prototype.slice.call(arguments);a.unshift(f.logPrefix);r.apply(console,a)}},def:function(a){return'undefined'!=typeof a},undef:function(a){return!h.def(a)},isFunction:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},decodeSafeString:function(a){return decodeURIComponent(a)}, getCookie:function(a){for(var b=document.cookie.split(';'),c=0;c<b.length;c++){var e=b[c],k=e.indexOf(a+'=');if(0==k||1==k&&' '==e.charAt(0)){for(;' '==e.charAt(0);)e=e.substring(1,e.length);return e.substring(a.length+1,e.length)}}return null},setCookie:function(a,b,c){var e='';c&&(e=new Date,e=new Date(e.getTime()+1E3*c),e='; expires='+e.toGMTString());document.cookie=a+'='+b+e+'; path=/';return!0},addEvent:function(a,b,c){a.attachEvent?a.attachEvent('on'+b,c):a.addEventListener&&a.addEventListener(b, c,!1)},removeEvent:function(a,b,c){a.detachEvent?a.detachEvent('on'+b,c):a.removeEventListener(b,c,!1)},metaDataValue:function(a,b){var c=document.getElementsByName(a);return null!=c&&1==c.length?1==arguments.length?c[0].getAttribute('content'):c[0].setAttribute('content',b):null},matchUrl:function(a,b){if(null==b||null==a||''==a)return!1;h.log('Match Criteria',a,'and resource Url',b);return'string'===typeof a&&-1!=b.indexOf(a)||'object'===typeof a&&null!=b.match(a)},sendData:function(a,b){if(1== h.isIE('8'))return h.log('IE 8 detected we will not send data back for this browser currently.'),!1;var c=JSON.stringify(a);if(navigator.sendBeacon&&c.length<f.maxMessageSize&&3E4>c.length)B.pubsub.publish({topic:'sequence/beforeloading/'+b,message:a}),navigator.sendBeacon(b,c),B.pubsub.publish({topic:'sequence/afterloaded/'+b,message:a});else if(c.length<f.maxMessageSize)if(1==h.def(d.fetch))fetch(b,{method:'POST',headers:{'Content-Type':'application/json'},body:c}).then(function(a){h.log('Successfully sent beacon data via fetch', a.status)})['catch'](function(a){h.log('Error from sending beacon data via fetch',a)});else a=new XMLHttpRequest,a.onreadystatechange=function(){4==this.readyState&&h.log('Rum data response received',this.status)},a.open('POST',b,!0),a.setRequestHeader('Content-type','application/json'),a.send(c);else h.log('Message is larger than max message length for qoe calles message size: ',c.length,f.maxMessageSize)},uuid:function(){var a='0123456789abcdef'.split(''),b=[],c=Math.random;b[8]=b[13]=b[18]=b[23]= '-';b[14]='4';for(var e=0;36>e;e++)if(!b[e]){var k=0|16*c();b[e]=a[19==e?k&3|8:k&15]}return b.join('')}},m={},S={},Xa=1,Ea={},ra=[],zb=function(a,b){ca(function(){a.callback.call(a.context,b.message,b.topic)},0)};m.reset=function(){S={};Xa=1;Ea={};ra=[]};m.subscribe=function(a){a.id=++Xa;h.undef(a.priority)&&(a.priority=0);h.undef(a.priority)&&(a.priority=0);'string'===typeof a.topic&&-1!=a.topic.indexOf('*')&&(a.topic=new RegExp(a.topic.replace(/\*/g,'.*')));if('string'===typeof a.topic){a.topic= a.topic.toLowerCase();1==h.undef(S[a.topic])&&(S[a.topic]=[]);S[a.topic].push(a);S[a.topic].sort(function(a,b){return b.priority-a.priority});var b=Ea[a.topic];h.def(b)&&a.callback.call(b.context,b.message,b.topic)}else ra.push(a);h.log('_pubsub.subscribe',a.topic,a.id);return a.id};m.publish=function(a){var b=a.topic;a.topic=a.topic.toLowerCase();for(var c=S[a.topic],e=c=1==h.undef(c)?[]:c.slice(0),k=0;k<ra.length;k++){var d=ra[k];null!=a.topic.match(d.topic)&&e.push(d)}a.persistent&&(Ea[a.topic]= a);if(0<c.length){e=[];for(k=0;k<c.length;k++){d=c[k];var f=!0;1==a.async?zb(d,a):(f=d.callback.call(d.context,a.message,b),1==h.def(f)&&e.push(f));h.log('_pubsub.publish',d.topic,d.id);if(0==f&&!0===a.cancellable)break}return e}h.log('_pubsub.publish',a.topic,'no callbacks');return 0};m.unsubscribe=function(a){for(var b in S)for(var c=S[b],e=0;e<c.length;e++)if(c[e].id==a)return c.splice(e,1),h.log('_pubsub.unsubscribe','found',a),!0;h.log('_pubsub.unsubscribe','not found');return!1};var x={releaseDate:'v8.1.0-2024-05-08T14:03Z', errors:{has:!1},config:f,maxScrollDepth:0,serviceWorkers:{supported:!1,registrations:[],cacheStats:[]}},ma=function(){return x};m.subscribe({topic:'core/configure',callback:function(a){ma.config=f}});m.subscribe({topic:'core/start',callback:function(){ma.config=f;if('serviceWorker'in navigator)try{navigator.serviceWorker.getRegistrations().then(function(a){for(var b=0;b<a.length;b++){var c=a[b].active;x.serviceWorkers.registrations.push({scope:a[b].scope,scriptURL:1==h.def(c)?c.scriptURL:'',state:1== h.def(c)?c.state:''})}}),x.serviceWorkers.supported=!0}catch(a){x.serviceWorkers.supported=!1,h.log('Error adding service worker stats to qoe call, most likely a security issue',a)}}});h.addEvent(d,'scroll',function(){var a=d.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;a>x.maxScrollDepth&&(x.maxScrollDepth=a)});h.addEvent(d,'error',function(a){var b=a.message,c=a.lineno,e=a.filename;3==arguments.length&&(b=arguments[0],e=arguments[1],c=arguments[2]);h.log('errorCapture', b,c,e);var k='';try{k=a&&a.error&&a.error.stack?a.error.stack:Error().stack}catch(q){}m.publish({topic:'core/js/error',persistent:!0,message:{message:b,implementationType:'dom',resourceName:e,lineNumber:c,stack:k,collectionTimestamp:(new Date).getTime()}});x.errors={has:!0}});var Ya=0,Za=!1;h.hasWebVitals=function(){return'undefined'!==typeof d.LayoutShift};var Fa=function(){(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];m.publish({topic:'web-vitals/cumulative-layout-shift', persistent:!0,message:{score:c.value,entry:c}})}})).observe({type:'layout-shift',buffered:!0});(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];m.publish({topic:'web-vitals/first-input',persistent:!0,message:{delay:c.processingEnd-c.startTime,name:c.name,startTime:c.startTime,entry:c}})}})).observe({type:'first-input'});(new PerformanceObserver(function(a){if(1!=Za){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];m.publish({topic:'web-vitals/largest-contentful-paint', persistent:!0,message:{time:c.startTime,entry:c}})}}})).observe({type:'largest-contentful-paint',buffered:!0});(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];g.def(c.interactionId)&&Ya<c.duration&&(Ya=c.duration,m.publish({topic:'web-vitals/interaction-to-next-paint',persistent:!0,message:{time:c.duration,entry:c}}))}})).observe({type:'event',durationThreshold:16,buffered:!0})};try{1==h.hasWebVitals()&&Fa()}catch(a){h.log('WebVital initialize error',a.message)}h.hasResourceTiming= function(){return h.def(d.performance)&&h.def(d.performance.getEntries)};h.calculateTti=function(){var a=d.performance.timing;if(0==h.hasResourceTiming()||h.undef(a.loadEventEnd))return-1;var b=d.performance.getEntries();return h._calculateTti(b,b.length,a.loadEventEnd-a.navigationStart)};h._calculateTti=function(a,b,c){for(var e=[],k=f.ttiLagTime,d=-1,g=a[0],h=g.startTime,l=h+g.duration,m=[h,l+k],n=0;n<b;n++)if(g=a[n],h=g.startTime,l=h+g.duration,'resource'==g.entryType)if(1==(h+l>=m[0]&&h<=m[1])){if(e.push(g), 2<e.length)if(m=[h,l+k],$a(e,m),3<=e.length)d=m[1]-k;else break}else if(h>m[1]-k){if(l>c)break;m=[h,l+k];$a(e,m)}if(d<c){if(0==f.afterShockLoaded)return-1;d=c}y.setExperienceMetric('time_to_interactive',d);return d};var $a=function(a,b){for(var c=0;c<a.length;c++){var e=a[c],k=e.startTime;0==(k+(k+e.duration)>=b[0]&&k<=b[1])&&(a.splice(c,1),c--)}};m.publish({topic:'sequencing/user/first',callback:function(){Za=!0}});var D={defaultCurrency:'USD',purchaseMapFunctions:[],trackBusinessValue:function(a, b){1==h.def(b)&&(D.defaultCurrency=b);1==h.def(a)&&(D.purchaseMapFunctions=a.concat(D.purchaseMapFunctions));D._analyzePage()},_shopify:function(){if(Shopify&&Shopify.Checkout)return{currencyType:Shopify.Checkout.currency,purchaseAmount:Shopify.Checkout.totalPrice,purchaseType:'Standard',orderId:Shopify.Checkout.token,source:'shopify'}},_gtm:function(){if(d.dataLayer)for(var a=0;a<d.dataLayer.length;a++){var b=d.dataLayer[a];if(b.event&&-1<b.event.indexOf('purchase'))return a=b.ecommerce||b,1==h.undef(a.transaction_id)&& (a=b.ecommerce.purchase.actionField),{currencyType:a.currency,purchaseAmount:a.total||a.value||(parseFloat(a.revenue)+parseFloat(a.tax)+parseFloat(a.shipping)).toFixed(2),purchaseType:'Standard',orderId:a.transaction_id||a.id,source:'gtm'}}},_ga4:function(){if(d.dataLayer)for(var a=0;a<d.dataLayer.length;a++){var b=d.dataLayer[a];if(3<=b.length&&b[1]&&-1<b[1].indexOf('purchase'))return a=b[2],1==h.undef(a.transaction_id)&&(a=b.ecommerce.purchase.actionField),{currencyType:a.currency,purchaseAmount:a.total|| a.value||(parseFloat(a.revenue)+parseFloat(a.tax)+parseFloat(a.shipping)).toFixed(2),purchaseType:'Standard',orderId:a.transaction_id||a.id,source:'ga4'}}},_omniture:function(){var a=d.s||d.omnitureActivity;if(a&&a.events&&-1!=a.events.indexOf('purchase'))return{purchaseAmount:a.products.split(';').pop(),purchaseType:'Standard',orderId:a.purchaseID,currencyType:a.currencyCode,source:'omniture'}},_uniVariable:function(){if(d.universal_variable&&d.universal_variable.transaction){var a=d.universal_variable.transaction; return{currencyType:a.currency,purchaseAmount:a.total,purchaseType:'Standard',orderId:a.order_id,source:'universalvariable'}}}};D.purchaseMapFunctions.push(D._shopify);D.purchaseMapFunctions.push(D._gtm);D.purchaseMapFunctions.push(D._ga4);D.purchaseMapFunctions.push(D._omniture);D.purchaseMapFunctions.push(D._uniVariable);D._wasPurchaseAlreadyReported=function(a){try{if(localStorage){var b=localStorage.getItem('yottaa-ci');if(null==b)b={history:[a]};else if(b=JSON.parse(b),1==h.undef(b.history))b= {history:[a]};else{if(-1<b.history.indexOf(a))return!1;b.history.push(a)}localStorage.setItem('yottaa-ci',JSON.stringify(b))}}catch(c){h.log('Error handling localStorage of purchase')}};D._fixPurchaseAmount=function(a){a&&'string'===typeof a&&(a=a.replace(/[^0-9.-]+/g,''));return a};D._analyzePage=function(){m.subscribe({topic:'rum/beforeSend',callback:function(a,b){for(b=0;b<D.purchaseMapFunctions.length;b++)try{var c=D.purchaseMapFunctions[b].call();if(c&&c.purchaseAmount)return a.purchase=c,a.purchase.purchaseAmount= D._fixPurchaseAmount(c.purchaseAmount),a.purchase.currency=a.purchase.currency||D.defaultCurrency,a.pageCategory='order-confirmation',D._wasPurchaseAlreadyReported(a.purchase.orderId)}catch(e){h.log('Purchase mapping error',e,'we will keep going.')}return!0}})};var y={trackBusinessValue:D.trackBusinessValue},ab=!1,za=[],R=[],pa='unknown',aa={optState:pa},va=h.uuid(),xa={},Ga=0,bb=0,wa={},P={},Va=h.hasWebVitals(),Q={lcp:[],cls:[],fid:[],inp:[]};_isPagePrefetched=function(){var a=x;if(a.serviceWorkers&& a.serviceWorkers.cacheStats){a=a.serviceWorkers.cacheStats.hits||[];for(var b=0;b<a.length;b++)if(0==a[b].indexOf(d.location.toString()))return!0}return!1};y.captureRum=function(){h.def(f.rum)&&h.def(f.rum.beaconUrl)&&0==ab&&(ab=!0,!0!==f.rum.spa&&ca(function(){h.log('onload window event triggered');!0===f.sendRumOnUnload?u():m.publish({topic:'rum/send',message:x.rum})},f.rumDelay),h.addEvent(d,'beforeunload',function(){h.log('beforeunload window event triggered');!0===f.sendRumOnUnload?m.publish({topic:'rum/send', message:x.rum}):z()}))};y.initialize=function(a,b,c,e,k){f.rum={beaconUrl:a,requests:b,key:c,post:!0,advanced:{performanceTime:1500,blockingTime:750,violationSize:1024E3,domInteractiveCoef:200,domContentLoadedEventCoef:150,domCompleteCoef:100,loadEventCoef:50}};h.def(k)&&(k.performanceTime&&(f.rum.advanced.performanceTime=k.performanceTime),k.blockingTime&&(f.rum.advanced.blockingTime=k.blockingTime),k.violationSize&&(f.rum.advanced.violationSize=k.violationSize),k.maxMessageSize&&(f.maxMessageSize= k.maxMessageSize));d.performance&&d.performance.setResourceTimingBufferSize&&d.performance.setResourceTimingBufferSize(500)};y.addViolation=function(a,b){R.push({lastByteTime:0,implementationType:'dom',type:a,zone:0,duration:0,startTime:-1,resourceName:b,resourceSizeBytes:0})};var ya=function(a,b){for(var c=0;c<a.length;c++)if('href'!=b||'stylesheet'==a[c].rel){var e=a[c][b];if(null!=e&&''!=e&&(0==e.indexOf('//')&&(e=d.location.protocol+e),1==e.startsWith('http'))){var k=d.performance.getEntriesByName(e); null!=k&&0!=k.length||R.push(A(2,0,{name:e,duration:0,decodedBodySize:0},xa[e]))}}};Fa=function(){y.setExperienceMetric('cumulative_layout_shift',0);m.subscribe({topic:'web-vitals/cumulative-layout-shift',callback:function(a){var b=a.entry,c=[];if(!b.hadRecentInput){var e=y.getExperienceMetric('cumulative_layout_shift');y.setExperienceMetric('cumulative_layout_shift',e+a.score)}for(a=0;a<b.sources.length;a++)e=b.sources[a],c.push({node:h.elementToString(e.node),currentRect:e.currentRect,previousRect:e.previousRect}); Q.cls.push({duration:b.duration,entryType:b.entryType,hadRecentInput:b.hadRecentInput,lastInputTime:b.lastInputTime,name:b.name,sources:c,startTime:b.startTime,value:b.value})}});m.subscribe({topic:'web-vitals/first-input',callback:function(a){var b=a.entry;y.setExperienceMetric('first_input_delay',a.delay);y.setExperienceMetric('first_input_name',a.name);y.setExperienceMetric('first_input_start_time',a.startTime);Q.fid.push({cancelable:b.cancelable,duration:b.duration,entryType:b.entryType,name:b.name, processingEnd:b.processingEnd,processingStart:b.processingStart,startTime:b.startTime,target:h.elementToString(b.target)})}});m.subscribe({topic:'web-vitals/largest-contentful-paint',callback:function(a){var b=a.entry;y.setExperienceMetric('largest_contentful_paint',a.time);Q.lcp.push({entryType:b.entryType,duration:b.duration,id:b.id,name:b.name,renderTime:b.renderTime,startTime:b.startTime,size:b.size,loadTime:b.loadTime,url:b.url,resourceIndex:qb(b.url),element:h.elementToString(b.element)})}}); m.subscribe({topic:'web-vitals/interaction-to-next-paint',callback:function(a){var b=a.entry;y.setExperienceMetric('interaction_to_next_paint',a.time);Q.inp.push({duration:b.duration,entryType:b.entryType,interactionId:b.interactionId,name:b.name,processingEnd:b.processingEnd,processingStart:b.processingStart,startTime:b.startTime,target:h.elementToString(b.target)})}})};y.captureStack=function(){try{return Error().stack}catch(a){return''}};y.set=function(a,b){aa[a]=b};y.spa=function(){f.rum&&(f.rum.spa= !0)};y.get=function(){return aa};y.now=function(){return d.performance&&d.performance.now?Math.floor(d.performance.now()):Math.floor((new Date).getTime())};y.setExperienceMetric=function(a,b){if(b>P[a]||1==h.undef(P[a]))P[a]=b};y.getExperienceMetric=function(a){return P[a]};y.getCoreWebVitalDetails=function(){return Q};m.subscribe({topic:'core/load',callback:function(){1==g.def(f.rum)&&(f.rum.onLoadTime=y.now());y.captureRum()}});m.subscribe({topic:'sequence/captured',callback:function(a,b){b=''; a.open_args?b=a.open_args[1]:a.newNode&&a.newNode.src?b=a.newNode.src:a.delayed&&a.delayed.newNode&&a.delayed.newNode.src?b=a.delayed.newNode.src:a.src&&(b=a.src);xa[b]=y.captureStack()}});m.subscribe({topic:'core/js/error',callback:function(a,b){za.push(a)}});m.subscribe({topic:'rum/spa/transition/start',callback:function(a,b){if(0!=Ga){a=y.now();b=x.rum;f.rum.spa=f.rum.spaTransition=!0;f.delayed=[];if(h.undef(b)||h.undef(b.navigationTiming))h.undef(b)&&(b={}),d.performance&&d.performance.timing&& (b.navigationTiming=d.performance.timing.toJSON());for(var c in b.navigationTiming)b.navigationTiming[c]=a;va=h.uuid();R=[];za=[];z(bb);d.performance&&(y.clearResourceTimings.call(d.performance),d.performance.clearMarks&&d.performance.clearMarks(),d.performance.clearMeasures&&d.performance.clearMeasures())}}});m.subscribe({topic:'rum/spa/rendered',callback:function(a,b){b=x.rum;var c=y.now(),e=b?b.navigationTiming:null;u();b=x.rum;1==g.undef(b.navigationTiming)&&(b.navigationTiming=e?e:d.performance&& d.performance.timing?d.performance.timing.toJSON():{});a.pageType&&a.viewType&&(b.pageCategory=a.pageType+'-'+a.viewType);1==Yo.utils.def(a.trigger)&&(b.spaTrigger=a.trigger);if(!0===f.rum.spaTransition)b.navigationTiming.loadEventEnd=c;else if(f.rum.onLoadTime)b.navigationTiming.loadEventEnd=b.navigationTiming.navigationStart+(b.navigationTiming.loadEventEnd-b.navigationTiming.navigationStart)+(c-f.rum.onLoadTime);else return f.rum.spa=!1,Ga++,!1;f.rum.spaTransition=!1;1==h.hasResourceTiming()&& (bb=d.performance.getEntries().length);Ga++;a=m.publish({topic:'rum/beforeSend',async:!1,message:x.rum});if(0==a.length||!1!==a[0])h.sendData(x.rum,f.rum.beaconUrl),m.publish({topic:'rum/sendBeacon',message:x.rum});P.cumulative_layout_shift=0;P.time_to_interactive=0;P.interaction_to_next_paint=0;Q={lcp:[],cls:[],fid:[],inp:[]};1==g.def(B.sequence)&&(B.configure({scan:['img','source','script']}),B.sequence.displayNow())}});m.subscribe({topic:'rum/send',callback:function(a,b){u();!0===f.sendRumOnUnload&& z();a=m.publish({topic:'rum/beforeSend',async:!1,message:x.rum});if(0==a.length||!1!==a[0])h.sendData(x.rum,f.rum.beaconUrl),m.publish({topic:'rum/sendBeacon',message:x.rum})}});d.performance&&d.performance.clearResourceTimings&&(y.clearResourceTimings=d.performance.clearResourceTimings,d.performance.clearResourceTimings=function(){});(function(){var a=function(a){wa={type:a.type,target:h.elementToString(a.target)}};h.addEvent(document,'keydown',a);h.addEvent(document,'click',a);h.addEvent(document, 'touchstart',a)})();Fa();var da=document;_loadCookieConfig=function(){var a=h.getCookie('yo-aftershock-config');if(null!=a&&0<a.length)try{a=JSON.parse(a);for(var b=a.resources||[],c=0;c<b.length;c++){var e=b[c];Yo.sequence[e.delayObject||'resource'](e.url)[e.delayType||'none'](e.delayValue)}delete a.resources;B.configure(a)}catch(k){}};_domready=function(){function a(a){b(a)}function b(a){('poll'===a||'readystatechange'===a.type)&&'complete'!==da.readyState||e||(e=!0,f.afterShockLoaded=!0,m.publish({topic:'core/load', async:!0,message:B,persistent:!0}))}function c(){try{da.documentElement.doScroll('left')}catch(q){ca(c,50);return}b('poll')}var e=!1,k=!0;if('complete'===da.readyState)f.afterShockLoaded=!0,m.publish({topic:'core/load',async:!0,message:Yo,persistent:!0});else{if(da.createEventObject&&da.documentElement.doScroll){try{k=!d.frameElement}catch(q){}k&&c()}h.addEvent(d,'load',a)}};m.subscribe({topic:'core/start',callback:function(){_loadCookieConfig();_domready()}});var E={man:function(){r('__   __    _   _    \n\\ \\ / /   | | | |            \n \\ V /___ | |_| |_ __ _  __ _  \n  \\ // _ \\| __| __/ _` |/ _` |\n  | | (_) | |_| || (_| | (_| | \n  \\_/\\___/ \\__|\\__\\__,_|\\__,_|'); r('\n\nUse the console to see information about Yottaa running on your application\n');L([{command:'Yo.utils.console.man();',help:'You just ran this command, which displays this help.'},{command:'Yo.utils.console.rum();',help:'See RUM statistics captured by Yottaa for the current web page.'},{command:'Yo.utils.console.resources();',help:'See information about resources that were loaded. Add a URL to see details about that specific URL.'},{command:'Yo.utils.console.coreWebVitals();',help:'See information about Core Web Vitals as they happen on your website.'}, {command:'Yo.utils.console.sequencing();',help:'See the configuration for sequencing and the resources it is applied to.'},{command:'Yo.utils.console.storeLocalConfiguration();',help:'Store your local configuration for easier debugging.'},{command:'Yo.utils.console.updateABTest();',help:'Update an A/B test variation.'}])},coreWebVitals:function(){r('\n\nCore web vital information for your page is detailed below.\n');1==h.def(y.getCoreWebVitalDetails)&&(r('\n\nRaw core web vital information below\n\n'), r(y.getCoreWebVitalDetails()));var a=function(a,c,e){var b=new PerformanceObserver(function(k){r(c);k=k.getEntries();if('event'!=a)L(e(k));else{var d={duration:-1};(k||[]).forEach(function(a){h.def(a.interactionId)&&d.duration<a.duration&&(d=a)});0<=d.duration&&L(e([d]))}b.disconnect()});b.observe({type:a,durationThreshold:16,buffered:!0})};a('layout-shift','\n\nCumlative Layout Shift (CLS).\n',function(a){return a.map(function(a){return{value:a.value,elementsChanged:a.sources.length,firstElement:0< a.sources.length?a.sources[0].node:'No element'}})});a('largest-contentful-paint','\n\nLargest Contentful Paint (LCP).\n',function(a){return a.map(function(a){return{element:a.element,url:a.url,startTime:a.startTime,duration:a.duration}})});a('event','\n\nInteraction to Next Paint (INP)\n',function(a){return a.map(function(a){return{target:a.target,entryType:a.entryType,name:a.name,startTime:a.startTime,duration:a.duration}})})},rum:function(){r('\n\nRum information for your page is detailed below.\n'); var a=Yo.stats().rum;if(a){r();var b=function(a,b){this.prop=a;this.value=b};r('\n\nPAGE LEVEL DATA.\n');L([new b('Site Key',a.siteKey),new b('Optimization State',Yo.rum.get().optState||'None'),new b('Full Url',a.fullPageURL),new b('Category',a.pageCategory),new b('Title',a.pageTitle),new b('User Agent',a.userAgent),new b('Page Prefetched By Service Worker',a.pagePrefetched?'Yes':'No'),new b('Library Release Date',a.releaseDate),new b('Is SPA Site',x.config.rum.spa?'Yes':'No'),new b('Is Edge Page', a.yOptimizations?'Yes':'No'),new b('SPA Trigger',a.spaTrigger?JSON.stringify(a.spaTrigger):'No Info')]);var c=y.get().testVariations;1==h.def(c)?(r('\n\nA/B TESTS.\n'),L(c.map(function(a){return{'Test name':a.testName,'Variation name':a.variationName,Stickiness:a.sticky,Timeout:a.timeout}}))):r('\n\nNO A/B TESTS.\n');r('\n\nVISITOR INFORMATION.\n');c=a.visitor;L([new b('Visitor',c.visitorId),new b('Visitor Sessions',c.numSessions),new b('Visitor Page views',c.numVisitorPageViews),new b('Session', c.sessionId),new b('Session Page views',c.numSessionPageViews)]);r('\n\nNAVIGATION TIMING INFORMATION.\n');c=a.navigationTiming;L([new b('DNS Lookup',c.domainLookupEnd-c.navigationStart),new b('Connection',c.connectEnd-c.navigationStart),new b('First Byte',c.responseStart-c.navigationStart),new b('Last Byte',c.responseEnd-c.navigationStart),new b('domLoading',c.domLoading-c.navigationStart),new b('domInteractive',c.domInteractive-c.navigationStart),new b('DOMContentLoaded',c.domContentLoadedEventEnd- c.navigationStart),new b('domComplete',c.domComplete-c.navigationStart),new b(x.config.rum.spa?'SPA Rendered':'onLoad',c.loadEventEnd-c.navigationStart)]);a=a.experienceMetrics;1==Yo.utils.def(a)&&(r('\n\nCORE WEB VITALS.\n\nFor detailed information of the core web vital information\nUser the Yo.utils.console.coreWebVitals(); function.'),L([new b('CLS',a.cumulative_layout_shift||'No Data'),new b('INP',a.interaction_to_next_paint||'No Data'),new b('LCP',a.largest_contentful_paint||'No Data'),new b('FID', a.first_input_delay||'No Data')]))}else r('NO DATA WAS COLLECTED')},sequencing:function(){r('\n\nSequencing information for your page is detailed below.\n\n');var a=E._rapidInfo();E._rapidOutput(a);r('document.head sequenced - ',1==h.def(document.head.yo_ac),'\n\ndocument.body sequenced - ',1==h.def(document.body.yo_ac),'\n\nThe table below shows all the rules that have been scheduled for sequencing.\n');L(Yo.stats().config.resources.map(function(a){return{'Applies To':a.url,'Delay Type':a.delayType, 'Delay Value':a.delayValue||'','# of Resources Caught':E._resourceAppliedTo(a.url)}}))},resources:function(a){var b=x.rum,c=b.navigationTiming,e=Math.round(100*(c.responseEnd-c.navigationStart)/(c.loadEventEnd-c.navigationStart)).toFixed(2);r('\n\nResources loaded by the website are detailed below.\n');r('\n\n%c It took %sms to load the html %s% of the onload\n','background: #222; color: #bada55',Math.floor(c.responseEnd-c.navigationStart),e);var k=E._rapidInfo();E._rapidOutput(k);e=x.rum.experienceMetrics; var f={DOMInteractive:Math.floor(c.domInteractive-c.navigationStart),LCP:Math.floor(e?e.largest_contentful_paint:0)};!0===x.config.rum.spa?(0==E._isSpaTransition()?r('\n\nThis is a SPA clean page %s.\n',b.pageCategory):r('\n\nThis is a SPA transition %s.\n',b.pageCategory),f['SPA Rendered']=Math.floor(c.loadEventEnd-c.navigationStart)):f.OnLoad=Math.floor(c.loadEventEnd-c.navigationStart);L(d.performance.getEntriesByType('resource').filter(function(b){return!a||0<=b.name.indexOf(a)}).map(function(a, b){return{'Resource Name':a.name,'Resource Type':E._initiatorType(a),'Load Time':Math.floor(a.duration),'Started Loading':E._isSpaTransition()?Math.floor(a.responseEnd-a.duration-c.navigationStart):Math.floor(a.responseEnd),'Yottaa Sequencing Type':E._sequencingType(a.name,b,k)}}).reduce(function(a,b){Object.keys(f).sort(function(a,b){return f[a]>f[b]}).forEach(function(c){0<f[c]&&b['Started Loading']>f[c]&&(a.push({'Resource Name':c,'Resource Type':'EVENT','Load Time':'---','Started Loading':f[c], 'Yottaa Sequencing Type':'---'}),f[c]=Number.MAX_VALUE)});a.push(b);return a},[]))},storeLocalConfiguration:function(a){h.setCookie('yo-aftershock-config',JSON.stringify(a||{}))},updateABTest:function(a,b){var c=y.get().testVariations;a=a||'A/B Testing';if(1==h.def(c)){var e=c.find(function(b){return b.testName==a});null==e?r('No test with the name of',a,'was found'):(1==h.def(b)?e.variationName=b:e.variationName='Optimized'==e.variationName?'Unoptimized':'Optimized',localStorage.setItem('rapid.testVariations', JSON.stringify(c)),r(a,'test variation name was set to',e.variationName,'Please refresh.'))}else r('No A/B Tests were enabled')},_sequencingType:function(a,b,c){b+=1;var e=ma.config.delayed.filter(function(b){return b.src&&0<b.src.length?b.src==a:b.url==a});return 0==e.length||b<c.configResource?1==c.sa?'No Rule Applied':b<c.libraryResource?'No Library':b==c.libraryResource?'THE LIBRARY':b<c.configResource?'No Configuration':b==c.configResource?'THE CONFIGURATION':'No Rule Applied':1==e.length?e[0].orgDelayType: e.map(function(a){return a.orgDelayType}).join(',')},_resourceAppliedTo:function(a){var b=ma.config.delayed.filter(function(b){return h.matchUrl(a,b.src)});return b?b.length:0},_initiatorType:function(a){if(0<=a.name.indexOf('/rapid/lib/'))return'RAPID LIBRARY';if(0<=a.name.indexOf('qoe-1.yottaa.net/log-nt/event'))return'RAPID RUM';if(0<=a.name.indexOf('/api/v1/configure.rapid.js'))return'RAPID CONFIG';var b=x.rum.webVitalsInfo;return b&&b.lcp&&null!=b.lcp.find(function(b){return a.name==b.url})? 'LCP Trigger':a.initiatorType},_rapidInfo:function(){var a=x.rum;a={sa:h.def(a.yOptimizations)&&null!=a.yOptimizations,libraryResource:0,configResource:0};for(var b=d.performance.getEntriesByType('resource'),c=0;c<b.length;c++){var e=b[c];0<=e.name.indexOf('/rapid/lib/')&&(a.libraryResource=c+1);0<=e.name.indexOf('/api/v1/configure.rapid.js')&&(a.configResource=c+1)}1==E._isSpaTransition()&&(a.libraryResource=1,a.configResource=1);return a},_rapidOutput:function(a){1==a.sa?r('Rapid was loaded via HTML using Edge'): 1==E._isSpaTransition()?r('This is a SPA Transition page its assumed rapid was already running.'):(0==a.libraryResource?r('Rapid was NOT loaded via an external resource, assumed to be loaded via another resource'):r('Rapid was was %s resource to load',a.libraryResource),0==a.configResource?r('Rapid Configuration was NOT loaded via an external resource, assumed to be delivere through config caching'):r('Rapid Configuration %s resource to load',a.configResource))},_isSpaTransition:function(){var a= x.rum;return x.config.rum.spa&&a.pageCategory&&-1==a.pageCategory.toLowerCase().indexOf('clean')}};h.console=E;h.webWorker={initialize:function(a,b,c){if(!0===h.undef(d.Worker))return null;a=new Blob(['self.onmessage = ',a.toString()],{type:'application/javascript'});c=new Worker(URL.createObjectURL(a),c);c.onerror=function(a){B.utils.log('Web Worker Error: '+a.message)};c.onmessage=function(a){b(a)};return c}};var g=h;String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b|| 0,a.length)===a});String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});g.rewrite=function(a){var b=g.metaDataValue('resource.version'),c=g.metaDataValue('cdn.hostname'),e=g.metaDataValue('profile.id');return location.protocol+c+'/'+e+'/'+location.hostname+'/'+b+(0!=a.indexOf('/')?'/':'')+a};g.rewriteImageAPI=function(a){var b=g.metaDataValue('resource.version'),c=g.metaDataValue('cdn.hostname'),e=g.metaDataValue('profile.id'),k='o~',f= g.browser();f&&'chrome'===f.name?k+='f_webp':f&&'safari'===f.name&&13<=f.version&&(k+='f_jp2');1==a.startsWith('/')&&0==a.startsWith('//')&&(a=d.location.protocol+'//'+d.location.hostname+a);return location.protocol+c+'/'+e+'/'+k+'/'+b+'/'+a};g.rewriteSrcSet=function(a,b){a=a.split(',');for(var c='',e=0;e<a.length;e++){var k=a[e].trim(),d=k.lastIndexOf(' '),f='';-1!=d&&(f=' '+k.substring(d).trim(),k=k.substring(0,d).trim());k=b(k,f);c+=k+f;e<a.length-1&&(c+=', ')}return c};g.select=function(a){var b; if(null==a||1==a.length)return null;if('document'==a)return document;if('window'==a)return d;if(g.def(a.nodeName))return a;if('.'==a[0])return a=document.getElementsByClassName(a.substring(1)),0<a.length?a[0]:null;if(-1!=(b=a.indexOf('['))){var c=a.substring(0,b),e=a.substring(b+1),k=e.indexOf(']'),f=e.indexOf('[');e=e.substring(0,k);var h,l=[],m=null;if(-1!=(h=e.indexOf('~')))k=2;else if(-1!=(h=e.indexOf('*')))k=1;else if(-1!=(h=e.indexOf('=')))k=0;else return null;if(-1!=f){f=a.substring(b+1+f+ 1);b=f.indexOf(']');try{f=parseInt(f.substring(0,b))}catch(Rb){}}var n=e.substring(0,h);h=e.substring(h+1);2==k&&(m=new RegExp(h));c=document.getElementsByTagName(c);for(b=0;b<c.length;b++){var p=0<n.length?c[b].getAttribute(n):c[b].innerHTML;0==k&&p==h?l.push(c[b]):1==k&&null!=p&&-1!=p.indexOf(h)?l.push(c[b]):2==k&&null!=p&&-1!=p.search(m)&&l.push(c[b])}g.log(a,e,n,h,0==l.length?l.length:l[0]);return-1!=f?f<l.length?l[f]:null:l[0]}'#'==a[0]&&(a=a.substring(1));return document.getElementById(a)}; g.writeHTML=function(a,b,c){var e=document.createElement('div');e.innerHTML='string'===typeof b?b:b.innerHTML;for(b=e.childNodes;0<b.length;)if('script'==b[0].nodeName.toLowerCase())if(b[0].src)B.sequence.script(e.removeChild(b[0]).src).load();else try{eval(e.removeChild(b[0]).innerHTML)}catch(k){g.log(k)}else'insert'==c?a.parentNode.insertBefore(e.removeChild(b[0]),a):a.appendChild(e.removeChild(b[0]))};g.contains=document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)& 16)}:document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!1)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};g.updateHeadItemAttributes=function(a,b,c){0>a&&(document.cookie='yo-disable-instanton=true;Max-Age=2',d.location.reload(!0));a=document.documentElement.getElementsByTagName('head')[0].children[a];for(var e=0;e<b.length;e++)a.removeAttribute(b[e]);for(var k in c)a.setAttribute(k,c[k])};g.replaceHeadItemContent=function(a,b){0>a&&(document.cookie= 'yo-disable-instanton=true;Max-Age=2',d.location.reload(!0));document.documentElement.getElementsByTagName('head')[0].children[a].textContent=b};g.isIE=function(a){var b=navigator.userAgent;return b&&a&&11==parseInt(a)&&-1!=b.indexOf('rv:11')?!0:b&&a&&-1!=b.indexOf('MSIE '+a)?!0:b&&(-1!=b.indexOf('MSIE')||-1!=b.indexOf('rv:11'))};g.isIos=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!d.MSStream};g.isAndroid=function(){return/Android/.test(navigator.userAgent)&&!d.MSStream};g.browser= function(){var a=navigator.userAgent,b=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(b[1])){var c=/\brv[ :]+(\d+)/g.exec(a)||[];return{name:'IE',version:c[1]||''}}if('Chrome'===b[1]&&(c=a.match(/\bOPR|Edge\/(\d+)/),null!=c))return{name:'Opera',version:c[1]};b=b[2]?[b[1],b[2]]:[navigator.appName,navigator.appVersion,'-?'];null!=(c=a.match(/version\/(\d+)/i))&&b.splice(1,1,c[1]);return{name:b[0].toLowerCase(),version:parseInt(b[1])}};g.inArray=function(a, b,c){if(b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a,c);var e=b.length;for(c=c?0>c?Math.max(0,e+c):c:0;c<e;c++)if(c in b&&b[c]===a)return c}return-1};g.elementToString=function(a){try{if(a instanceof HTMLElement){var b='<'+a.nodeName.toLowerCase();if(a.getAttribute){var c=a.getAttribute('name'),e=a.getAttribute('id'),k=a.getAttribute('class');null!=c&&0<c.length&&(b+=' name="'+c+'"');null!=e&&0<e.length&&(b+=' id="'+e+'"');null!=k&&0<k.length&&(b+=' class="'+k+'"')}return b+ ' />'}return a.toString?a.toString():'[Object]'}catch(q){}};var Ha=function(a){m.subscribe({topic:'sequence/beforeloading/'+this.key,callback:a,context:this});return this},Ia=function(a){m.subscribe({topic:'sequence/afterloaded/'+this.key,callback:a,context:this});return this},U={},J={},G=function(a,b,c){this.id='yo_write_'+Math.floor(1E9*Math.random());this.writeContent='';this.writeLocation=a;this.offScreenDom=null;this.delayed=c;this.domElement=b;this.scripts=[];g.log('creating WriteContext',this.id, this.domElement.src);G.prototype.getId=function(a){return this.id};G.prototype.collectDocumentWrite=function(a){this.writeContent+=a;g.log('write override',this.getId(),this.domElement.src,a)};G.prototype.addScript=function(a){this.scripts.push(a)};G.prototype.getWriteSelector=function(){return this.delayed.writeSelector};G.prototype.executeDeferredScripts=function(){for(var a=0;a<this.scripts.length;a++){var b=this.scripts[a],c=b.getAttribute('src');g.def(b.yo_src)&&(c=b.yo_src);B.sequence.script(c).none().writeLocation(b.yo_writeSelector).load()}}; G.prototype.finalizeWriteOverride=function(){null==this.writeLocation?g.log('write location is null, content ignored',this.getId(),this.domElement.src):0<this.writeContent.length?(g.log('creating off screen DOM',this.getId(),this.domElement.src),this.offScreenDom=da.createElement('div'),this.offScreenDom.innerHTML=this.writeContent):g.log('no content, just continue',this.getId(),this.domElement.src);this.continueWrite()};G.prototype.initialize=function(){var a=J[this.delayed.writeSelector];g.undef(a)&& (a=J[this.delayed.writeSelector]=[]);a.push(this);Aa=function(){var b=Array.prototype.slice.call(arguments,0,-1).join('');0<a.length&&a[a.length-1].collectDocumentWrite(b)}};G.prototype.insertContent=function(){for(;0<this.offScreenDom.childNodes.length;){var a=this.offScreenDom.childNodes[0],b=a.nodeName.toLowerCase();if('script'==b){b=a.getAttribute('language');if(null==b||'vbscript'!=b.toLowerCase()){J[this.delayed.writeSelector].push(this);try{this.offScreenDom.removeChild(a)}catch(q){}B.sequence.script(a.getAttribute('src')).none().writeLocation(this.delayed.writeSelector).load(); return!1}try{eval(a.innerHTML),this.offScreenDom.removeChild(a)}catch(q){}this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}else if('link'==b&&'stylesheet'==a.getAttribute('rel').toLowerCase()){document.getElementsByTagName('head')[0].appendChild(a);try{this.offScreenDom.removeChild(a)}catch(q){}}else this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}this.offScreenDom.innerHTML='';return!0};G.prototype.continueWrite=function(){for(var a=J[this.delayed.writeSelector], b=a.pop();b;){g.log('Continue writing ',b.getId());if(b.offScreenDom&&0==b.insertContent())break;0==a.length&&b.executeDeferredScripts();b=a.pop()}}};U.safeWriteInsert=function(a,b,c,e,d){if(1==ha(a,b,c,e)){a:{try{1==g.def(a.yo_src)&&(1==g.isIE()?a.setAttribute('src',a.yo_src):a.src=a.yo_src);a.yo_processed=!0;var k='append'==d?c.yo_a(a):'appendChild'==d||c.contains&&0==c.contains(b)?c.yo_ac(a):c.yo_ib(a,b);break a}catch(H){g.log('ERROR adding domElement into dom',a,H)}k=void 0}return k}};U.safeWriteEval= function(a,b,c,e,k){b=a;if(f.sequenceWrites&&g.def(e.writeLocation)){for(var q in J)0<J[q].length&&e.writeSelector!=J[q][0].getWriteSelector()&&g.def(e.writeSelector)&&(e.yo_writeSelector=e.writeSelector);g.def(e.writeSelector)&&g.def(e.writeSelector.nodeName)&&(e.writeSelector.id?e.writeSelector='#'+e.writeSelector.id:(q='yo_write_'+Math.floor(1E9*Math.random()),e.writeSelector.setAttribute('id',q),e.writeSelector='#'+q));q=g.select(e.writeSelector);null!=q&&(q=new G(q,{src:b},e),q.initialize(), e.write_context=q)}try{q=['<sc','ript>','</sc','ript>'];a=a.replace(q[0]+q[1],'').replace(q[2]+q[3],'');'gpt'==k&&(a='googletag.cmd.push(function() { googletag.pubads().enableSyncRendering = function(){}; '+a+'});');if(null!=e.before&&1==h.def(e.before.getAttribute)&&'module'==e.before.getAttribute('data-yo-type')){var l=document.createElement('script');for(k=0;k<f.scriptAttrs.length;k++){var m=f.scriptAttrs[k],n=e.before.getAttribute(m);null!=n&&l.setAttribute(m,n)}l.setAttribute('type','module'); l.appendChild(document.createTextNode(a));e.before.parentNode.insertBefore(l,e.before)}else d.eval(a);f.sequenceWrites&&e.write_context.finalizeWriteOverride()}catch(ka){g.log('Error eval',ka)}};f.delayed=[];f.targets=[];var M=function(){this.executed=!1;this.cont=!0};M.prototype.afterLoaded=Ia;M.prototype.beforeLoading=Ha;M.prototype.execute=function(){return this.afterShock()};M.prototype.clone=function(){var a=new M,b;for(b in this)a[b]=this[b];return a};M.prototype.preventDefault=function(){this.cont= !1};M.prototype.key=null;M.prototype.isConfig=function(a){return this.delayType==a};M.prototype.afterShock=function(){var a=null;if(1!=this.loaded&&(this.delayType='none',this.loaded=!0,g.log('Injecting ',this.newNode,', by ',this.type,' into the DOM now.'),'attributesrc'!=this.type&&m.publish({topic:'sequence/beforeloading/'+this.key,message:this}),0!=this.cont)){var b=this.newNode,c=this.type,e=this.before;if('insertBefore'==c)a=U.safeWriteInsert(b,e,this.me,this,c);else if('appendChild'==c)a=U.safeWriteInsert(b, null,this.me,this,c);else if('append'==c)a=U.safeWriteInsert(b,null,this.me,this,c);else if('replace'==c)this.me.replaceChild(b,e),m.publish({topic:'sequence/afterloaded/'+this.key,message:this});else if('attributesrc'==c)e.setAttribute('src',b.yo_src);else if('src'==c)g.def(this.animator)&&null!=this.animator?animator(e,this.animator):g.def(f.animator)&&animator(e,f.animator),c=e.getAttribute(f.pre+'srcset'),null!=c&&e.setAttribute('srcset',c),e.src=this.srcAttr;else if('style'==c)b.setAttribute('style', b.getAttribute(f.pre+'style'));else if('inner'==c)g.log(this.how+' -> '+b),'replace'==this.how?ia(e,b):'eval'==this.how||'gpt'==this.how?a=U.safeWriteEval(b,e,this.me,this,this.how):g.writeHTML(e,b,this.how),m.publish({persistent:!0,topic:'sequence/afterloaded/'+this.key,message:this});else if('function'==c)g.log(this.how+' -> '+b),e=this.func.apply(this.funcThis,this.funcParameters),m.publish({topic:'sequence/afterloaded/'+this.key,message:{delayed:this,retVal:e}});else if('xhr'==c){this.xhr.onreadystatechange&& (this.xhr.original_oonreadystatechange=this.xhr.onreadystatechange);var d=this;this.xhr.onreadystatechange=function(a){4==d.xhr.readyState&&m.publish({topic:'sequence/afterloaded/'+d.key,message:[a,this]});d.xhr.original_oonreadystatechange&&d.xhr.original_oonreadystatechange.apply(this)};this.xhr.xhr_send.apply(this.xhr,this.xhr._yo.send_args)}else{if('fetch'==c)return d=this,this.fetch.originalFetch.apply(this.fetch.self,this.fetch.args).then(function(a){m.publish({topic:'sequence/afterloaded/'+ d.src,message:[a,b]});d.fetch.resolve&&d.fetch.resolve(a);return a})['catch'](function(a){d.fetch.reject&&d.fetch.reject(a);m.publish({topic:'sequence/afterloaded/'+d.src,message:[a,b]});return a});'image'==c&&this.loadImage(this)}rb();return a}};_delayed=function(){return M};var V=function(a){var b=new (_delayed());'string'===typeof a&&0==a.indexOf('/')&&a.lastIndexOf('/')==a.length-1&&(a=new RegExp(a));b.key=b.url=a;b.match=!0;b.nodeName='resource';g.undef(f.resources)&&(f.resources=[]);for(var c= -1,e=0;e<f.resources.length;e++){var d=f.resources[e].url;if('string'===typeof a&&'string'===typeof d&&-1!=a.indexOf(d)||'string'!==typeof d&&'function'!==typeof d&&'string'===typeof a&&null!=a.match(d)){c=e;break}}b.writeLocation=function(a){this.writeSelector=a;return this};-1==c?f.resources.push(b):f.resources.splice(c,0,b);return b},Aa=null,Ba=!1;m.subscribe({topic:'core/configure',callback:function(){Ta(document)}});var I={},Ab=function(a,b,c,e,d){this._yo={open_args:arguments,async:!1===c?!1: !0};g.log('xhr open = '+b+', async '+c);m.publish({topic:'sequence/captured',message:this._yo});return this.xhr_open.apply(this,arguments)},Bb=function(a){if(g.undef(this._yo)||!0!==this._yo.async){m.publish({topic:'sequence/beforeloading/'+this._yo.open_args[1],message:{src:this._yo.open_args[1],nodeName:'xhr',args:this._yo.open_args}});var b=this.xhr_send.apply(this,arguments);m.publish({topic:'sequence/afterloaded/'+this._yo.open_args[1],message:{src:this._yo.open_args[1],nodeName:'xhr',args:this._yo.open_args}}); return b}var c=this;b={src:this._yo.open_args[1],nodeName:'xhr'};if(0==qa(b,b,function(a,b){a=a.clone();a.type='xhr';a.xhr=c;a.src=b.src;a.newNode=b;f.delayed.push(a);1==f.afterShockLoaded&&a.execute()}))return g.log('xhr send is NOT deferred, '+b.src),this.xhr_send.apply(this,arguments);this._yo.send_args=arguments;var e=f.delayed[f.delayed.length-1];g.log('xhr send is deferred, ',b.src,', ',e.delayType,e.delayValue);return this},Cb=function(){if(g.undef(this._yo)||g.undef(this._yo.send_args)||!0!== this._yo.async)return this.xhr_abort.apply(this,arguments);g.log('Abort to the xhr object is called',' async true')};if(g.def(d.fetch))var Db=function(){g.log('fetch called ',arguments);m.publish({topic:'sequence/captured',message:{fetch_args:arguments}});var a=this,b={src:arguments[0].toString(),nodeName:'xhr'};if(0==qa(b,b,function(b,c){b=b.clone();b.type='fetch';b.xhr=a;b.src=c.src;b.newNode=c;f.delayed.push(b);1==f.afterShockLoaded&&b.execute()}))return g.log('fetch send is NOT deferred, ',b.src), I.originalFetch.apply(this,arguments).then(function(a){m.publish({topic:'sequence/afterloaded/'+b.src,message:[a,b]});return a})['catch'](function(a){m.publish({topic:'sequence/afterloaded/'+b.src,message:[a,b]});return a});var c=f.delayed[f.delayed.length-1];c.fetch={args:arguments,originalFetch:I.originalFetch,self:this};c.fetch.promise=new Promise(function(a,b){c.fetch.resolve=a;c.fetch.reject=b;g.log('Promise for delayed fetch call',c)});g.log('fetch is deferred, ',b.src,c.delayType,c.delayValue); return c.fetch.promise};I.create=function(a){1!=f.sequenceXHR&&B.configure({sequenceXHR:!0});a=V(a);a.nodeName='xhr';a.rewrite=function(a){this.afterLoaded(function(b){g.log('Begging to rewrite data for ajax call.');try{if(!(2>b.length)){var c=b[1],d=null,f=this;if('text'==c.responseType||''==c.responseType)d=c.responseText,d=a.call(this,d);else if('json'==c.responseType)d=JSON.stringify(c.response),d=a.call(this,d);else if('blob'==c.responseType){console.log('blob response',c.response);var h=c.onload; h&&(c.onload=null);var l=new FileReader;l.addEventListener('load',function(){f.blobText=a.call(f,l.result);h.call(c)});l.readAsText(c.response)}else return;Object.defineProperty&&(Object.defineProperty(c,'responseText',{get:function(){return d}}),Object.defineProperty(c,'response',{get:function(){return'json'==this.responseType?JSON.parse(d):'blob'==this.responseType?new Blob([f.blobText],{type:'application/json'}):d}}))}}catch(ub){g.log('Error in rewrite handling',ub)}})};return a};I.captureMethods= function(a){1==g.undef(a.XMLHttpRequest.prototype.xhr_open)&&(a.XMLHttpRequest.prototype.xhr_open=a.XMLHttpRequest.prototype.open,a.XMLHttpRequest.prototype.xhr_send=a.XMLHttpRequest.prototype.send,a.XMLHttpRequest.prototype.xhr_abort=a.XMLHttpRequest.prototype.abort,1==g.def(a.fetch)&&(I.originalFetch=a.fetch))};I.overrideMethods=function(a){a.XMLHttpRequest.prototype.open=Ab;a.XMLHttpRequest.prototype.send=Bb;a.XMLHttpRequest.prototype.abort=Cb;1==g.def(a.fetch)&&(a.fetch=function(){var a=this, c=arguments;return $yojscomp.asyncExecutePromiseGeneratorProgram(function(b){return b.return(Db.apply(a,c))})})};I.captureMethods(d);m.subscribe({topic:'core/configure',callback:function(){1==f.sequenceXHR&&1==g.def(XMLHttpRequest)&&I.overrideMethods(d)}});_findTags=function(a,b){var c=document.getElementsByTagName(a);g.log('Find all '+a+' tags in the document.');for(var e=0,d=c.length;e<d;e+=1){var q=c[e];if(!0===b){var h=q.getAttribute(f.pre+'delayType');null==h||'defer'!=h&&'lazy'!=h||(q.setAttribute(f.pre+ 'delayType','none'),q.setAttribute(f.pre+'delayValue',''));h=q.getAttribute('type');null!=h&&(-1<h.indexOf('yo/sequence/defer')||-1<h.indexOf('yo/sequence/lazy'))&&q.setAttribute('type','yo/sequence/none/')}if('true'!==q.getAttribute(f.pre+'loaded')){h=_srcAttr(q);var l=q.getAttribute(f.pre+'style');h?(g.log('Found src ',a,', src = '+h+' tag to handle with AfterShocK.'),B.sequence.content(q).load()):'script'==a?(h=q.getAttribute('type'),q.getAttribute(f.pre+'src'),h&&-1<h.indexOf('yo/sequence')?(g.log('Found a '+ a+', yo/sequence tag to handle with AfterShocK.'),B.sequence.content(q).load()):'yo/abtest'==h&&_abTestScript(q)):l&&(g.log('Found style ',a,', src = '+h+' tag to handle with AfterShocK.'),q=B.sequence.content(q),q.type='style',q.before=q.newNode,q.load())}}};_srcAttr=function(a){for(var b=0;b<f.srcAttrs.length;b++){var c=a.getAttribute(f.srcAttrs[b]);if(null!=c)return c}return(c=a.getAttribute('src'))&&'data:image/cloaked;plain,'==c.slice(0,25)?c.substring(25):null};_needsEval=function(a){var b= a.getAttribute('type');return'SCRIPT'==a.nodeName.toUpperCase()&&null==a.getAttribute('src')&&null!=b&&0<=b.indexOf('chain')};_loadFromDOM=function(a){a='string'===typeof a?g.select(a):a;var b=content=g.select(a.getAttribute(f.pre+'location')),c=a.getAttribute(f.pre+'how'),e=new (_delayed()),k=a.nodeName.toLowerCase(),h=a;'eval'==c||'gpt'==c?(content=a.innerHTML,e=B.sequence.script(content)):1==_needsEval(a)?(content=a.innerHTML,c='eval',e=B.sequence.script(content)):null==c&&(c='replace');var l= a.getAttribute(f.pre+'key');null!=l&&(e.key=l);var m=a.getAttribute(f.pre+'delayType'),n=a.getAttribute(f.pre+'delayValue'),p=_srcAttr(a),u=p&&0<p.length?'src':'inner',r=a.getAttribute(f.pre+'animator'),t=a.getAttribute(f.pre+'onbefore');null!=t&&g.isFunction(d[t])&&e.beforeLoading(d[t]);var v=a.getAttribute(f.pre+'onLoad');null!=v&&g.isFunction(d[v])&&e.afterLoaded(d[v]);null==content&&(content=a,c='insert');a.setAttribute(f.pre+'loaded','true');if(-1===g.inArray(a,f.targets)){e.animator=r;if('img'== k||'source'==k||'picture'==k)null==m&&(m='lazy'),null==b&&(b=a);else if('script'==k){k=a.getAttribute('type');null!=k&&(k=k.split('/'),2<k.length&&(m=k[2],n=k[3]));k=a.getAttribute(f.pre+'writeLocation');e.writeSelector=k||a;r=p;null==r&&'chain'==m&&(r=a.getAttribute('src'));if(null!=r){null==m&&(m='none');b={};for(c=0;c<f.scriptAttrs.length;c++)e=f.scriptAttrs[c],b[e]=a.getAttribute(e);c=a.getAttribute(f.pre+'type');null!=c&&(b.type=c);e=B.sequence.script(r,b)[m](n);null!=l&&(e.key=l);null!=t&&g.isFunction(d[t])&& e.beforeLoading(d[t]);null!=v&&g.isFunction(d[v])&&e.afterLoaded(d[v]);e.writeLocation(k||a);e.src=r;e.me=a;e.load();return e}null==b&&(b=a)}null==m&&(m='none');1==g.contains(document.documentElement,a)&&a.setAttribute(f.pre+'loaded','true');e[m](n);e.before=b;e.me=h;e.type=u;e.srcAttr=p;e.how=c;e.match=!1;e.newNode='eval'==c||'gpt'==c?content:a;e.key||(e.key=e.srcAttr);return e}};m.subscribe({topic:'core/load',callback:function(){B.sequence.scanTags(!1)}});var ea={},K={},ba=!1,Ja=null,cb=[],Eb=function(a, b){var c='on'+b.toLowerCase();if(!g.def(K[c])&&(K[c]={object:a,name:b,event:null,propertySets:[],listeners:[],stacks:[]},g.addEvent(a,b,function(c){var e=K['on'+b.toLowerCase()];e.event=c;navigator.userAgent.match(/MSIE /)&&(e.event={type:c.type});!a.yo_addEventListener&&a.addEventListener&&(a.yo_addEventListener=a.addEventListener,a.addEventListener=Z(!0));!a.yo_attachEvent&&a.attachEvent&&(a.yo_attachEvent=a.attachEvent,a.attachEvent=Z(!1))}),Object.defineProperty&&'load'==b))try{Object.defineProperty(d, 'onload',{set:function(a){try{g.log('loadEventSequencing: defineProperty window.onload',ba),0==ba?a.call(d,K.onload.event):(K.onload.propertySets.push(a),K.onload.stacks.push(Error().stack))}catch(k){g.log('loadEventSequencing: Overridden onload threw an exception',k)}}})}catch(e){g.log('loadEventSequencing: onload property event handler threw exception',e)}};_clearEvents=function(a){1==g.def(a.yo_addEventListener)&&(a.addEventListener=a.yo_addEventListener,delete a.yo_addEventListener);1==g.def(a.yo_attachEvent)&& (a.attachEvent=a.yo_attachEvent,delete a.yo_attachEvent)};ea.loadEvents=function(a,b){1==g.undef(a)&&(a=[{eventName:'DOMContentLoaded',eventObject:document},{eventName:'load',eventObject:d}]);1==g.def(b)&&(ba=b);for(b=0;b<a.length;b++)Eb(a[b].eventObject,a[b].eventName)};ea.clearEvents=function(){for(var a=[d,document],b=0;b<a.length;b++)_clearEvents(a[b])};ea.fireLoadEvents=function(){if(1==ba){ba=!1;g.log('loadEventSequencing: fireLoadEvents was called will loop through all the events',K);for(var a in K){var b= K[a];if(b){for(var c=0;c<b.propertySets.length;c++)try{g.log('loadEventSequencing: Firing propertySets via fireLoadEvents',b),b.propertySets[c].call(d,b.event)}catch(e){g.log('loadEventSequencing: Exception for the property set listener',b,e)}for(c=0;c<b.listeners.length;c++)try{g.log('loadEventSequencing: Firing listeners via fireLoadEvents',b),b.listeners[c].call(b.object||d,b.event)}catch(e){g.log('loadEventSequencing: Exception for the event listener',b,e)}}}}};ea.jQueryEvents=function(a,b){Ja= $.fn.ready;$.fn.ready=function(){g.log('sequencejQueryEvents $.fn.ready',arguments,this);var a=Array.prototype.slice.call(arguments);if(0<this.length&&9===this[0].nodeType)cb.push({self:this,args:a});else return oldReady.apply(this,a)}};ea.firejQueryEvents=function(){g.log('sequencejQueryEvents $.fn.ready',arguments,this);1==Yo.utils.def(Ja)&&($.fn.ready=Ja);cb.forEach(function(a){$(document).ready(a.args[0])});1==g.def(d.$)&&1==g.def($.prototype.on)&&$(d).trigger('load')};var sa=null,db=function(a){1== h.def(a.delayType)&&(a.tempImage=new sa,0==h.def(a.orgOnLoad)&&(a.orgOnLoad=a.image.onload),a.image.onload=null,a.tempImage.onload=function(b){null!=a.orgOnLoad&&a.orgOnLoad.call(a.image,b);m.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})},0==h.def(a.orgOnError)&&(a.orgOnError=a.image.onerror),a.image.onerror=null,a.tempImage.onerror=function(b){a.orgOnError&&a.orgOnError.call(a.image,b);m.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})},m.publish({topic:'sequence/beforeloading/'+ a.key,message:arguments}));0==a.webWorkerCallback?(a.tempImage.src=a.src,a.image.setAttribute('src',a.src)):Fb(a.src,function(a,c){a=URL.createObjectURL(a.data.blob);c.image.setAttribute('src',a);m.publish({topic:'sequence/afterloaded/'+c.key,message:c})},a)},Gb=function(a,b,c){this.yo_src=a;Yo.utils.log('Overloaded image src being set',a);a={src:a,key:a.toLowerCase()};m.publish({topic:'sequence/captured',message:a});var e={src:a.src,key:a.key,nodeName:'image'};nodeConfig=la(e);var d=nodeConfig.clone(); d.type='image';d.nodeName='image';d.src=e.src;d.image=b;d.newNode=e;f.delayed.push(d);d.loadImage=db;1==f.afterShockLoaded&&d.execute();a.image=c||b;'none'==nodeConfig.delayType&&db(a)},Hb=function(){null==sa&&(sa=Image,Image=function(){var a=new sa;try{Object.defineProperty(a,'src',{set:function(b){Gb(b,this,a)},get:function(){return this.yo_src?this.yo_src:''}})}catch(b){g.log(b)}return a})},Ka=null,La={},Fb=function(a,b,c){try{null===Ka&&(Ka=h.webWorker.initialize(function(a){var b,c,e;return $yojscomp.asyncExecutePromiseGeneratorProgram(function(d){if(1== d.nextAddress)return b=a.data.imageUrl,!0===a.data.log&&console.log('Loading image via a web worker',b),d.yield(fetch(b,a.data.fetchOptions),2);if(3!=d.nextAddress)return c=d.yieldResult,d.yield(c.blob(),3);e=d.yieldResult;!0===a.data.log&&console.log('Image finished loading and now posting message back',b);self.postMessage({imageURL:b,uuid:a.data.uuid,blob:e});d.jumpToEnd()})},function(a){b(a,La[a.data.uuid].delayedObject);delete La[a.data.uuid]},{name:'yottaa-image-manager'}));var e=h.uuid();La[e]= {delayedObject:c,imageUrl:a};Ka.postMessage({uuid:e,imageUrl:a,log:f.log,fetchOptions:c.fetchOptions})}catch(k){h.log('Error creating image web worker',k)}};m.subscribe({topic:'core/configure',callback:function(){1==f.sequenceImage&&Hb()}});m.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.defer=function(a){this.orgDelayType=this.delayType='defer';this.delayValue=a;if(1==g.isIE()&&0==f.optimizeIE)return g.log('Override defer on IE',this.url),this.none();this.execute=function(){if(0!= f.afterShockLoaded&&1!=this.executed){this.executed=!0;g.log('Loading ',this.newNode,' via timer event. It will load in ',this.delayValue);var a=this;ca(function(){a.afterShock()},1*this.delayValue);return this}};return this};_delayed().prototype.event=function(a){this.orgDelayType=this.delayType='event';this.delayValue=a;this.execute=function(){if(0!=f.afterShockLoaded&&1!=this.executed){this.executed=!0;g.log('Event handling '+(this.before?this.before.src:'no object')+' '+this.delayValue);var a= this.delayValue.split(' '),c=a[0].toLowerCase(),e=this;if('beforeloading'==c||'afterloaded'==c){a=a[1];if('#adjacent'==a)return this.defer(0);m.subscribe({topic:'sequence/'+c+'/'+a,context:this,callback:function(a){g.log('Loading '+(this.before?this.before.src:'no object')+' via event handler '+this.delayValue);e.afterShock()}})}else'pubsub'==c?(a=a[1],m.subscribe({topic:a,context:this,callback:function(a){g.log('Loading '+(this.before?this.before.src:'no object')+' via pubsub handler '+this.delayValue); e.afterShock()}})):tb(g.select(a[1]),a,this);return this}};return this};m.subscribe({topic:'core/load',callback:function(){}});var W={},T={top:0-f.offset,left:0-f.offset,height:0,width:0,right:0,bottom:0},eb=function(a){a=a.getBoundingClientRect();g.undef(a.width)&&(a={top:a.top,left:a.left,right:a.right,bottom:a.bottom,width:a.right-a.left,height:a.bottom-a.top});return a},fb,gb;document.defaultView&&document.defaultView.getComputedStyle&&(fb=function(a,b){var c;if(c=a.ownerDocument.defaultView){if(c= c.getComputedStyle(a,null)){var e=c.getPropertyValue(b);''!==e||g.contains(a.ownerDocument.documentElement,a)||(e=a.style[b])}return e}});document.documentElement.currentStyle&&(gb=function(a,b){a=a.currentStyle&&a.currentStyle[b];return''===a?'auto':a});var Ma=fb||gb;document.getElementsByClassName||(document.getElementsByClassName=function(a){return this.querySelectorAll('.'+a)});W.scrollHandler=function(a){if(1==g.undef(document.body)||null==document.body)return!0;T.height=d.innerHeight||document.documentElement.clientHeight|| document.body.clientHeight;T.bottom=T.height;T.width=d.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;T.right=T.width;if(g.undef(document.documentElement.getBoundingClientRect))return!0;for(var b=a=0;b<f.delayed.length;b++)if(f.delayed[b].isConfig('lazy')){var c=b,e=f.delayed[c],k=e.delayValue;if('string'===typeof k)k=g.select(k);else if(null==k||g.def(k))k=e.before;if(null!=k&&(k&&'SOURCE'==k.nodeName&&(k=k.parentNode),1==g.contains(document.documentElement,k))){var h= eb(k);if(0==(null!=f.intervalID&&g.def(k.getBoundingClientRect))&&h.top<T.height+f.offset)g.log('showIfVisible is visible ',c,', ',k),f.delayed[c].afterShock();else{if(e=1==(null!=f.intervalID&&g.def(k.getBoundingClientRect)))if(e=(!f.lazyCheckSize||0<h.width&&0<h.height)&&1==oa(h,T)){b:{e=k;for(var l=e.parentNode;null!=l&&1==l.nodeType;){var m=Ma(l,'overflow');if(m&&'hidden'==m.toLowerCase())e.yo_clipped=l;else if(0==Ma(l,'opacity')||'none'==Ma(l,'display')){e=!1;break b}l=l.parentNode}1==g.undef(e.yo_clipped)&& (e.yo_clipped=!1);e=0!=e.yo_clipped?oa(h,eb(e.yo_clipped)):!0}e=1==e}e&&(g.log('showIfVisible is visible ',c,', ',k),f.delayed[c].afterShock())}}a++}};W.delayed=function(a){this.orgDelayType=this.delayType='lazy';this.delayValue=a;this.execute=function(a){return this};return this};var hb=function(a,b){var c=0;return function(){var e=+new Date;e-c<b||(c=e,a.apply(this,arguments))}}(W.scrollHandler,20);g.addEvent(d,'scroll',hb);g.addEvent(d,'resize',hb);m.subscribe({topic:'core/load',callback:function(){W.scrollHandler()}}); _delayed().prototype.lazy=W.delayed;m.subscribe({topic:'core/configure',callback:function(a){0<a.lazyTimer&&null==f.intervalID&&(f.intervalID=Wa(W.scrollHandler,a.lazyTimer))}});_delayed().prototype.none=function(){this.orgDelayType=this.delayType='none';this.execute=function(){return this.afterShock()};return this};_delayed().prototype.remove=function(a,b,c){var e=!1,d='yostore'+g.metaDataValue('resource.version')+this.key;this.delayValue=a;g.undef(a)||'always'==a?(e=!0,this.delayValue='always'): 'session'==a?sessionStorage&&'true'==sessionStorage.getItem(d)?e=!0:sessionStorage&&sessionStorage.setItem(d,'true'):'visitor'==a&&(localStorage&&'true'==localStorage.getItem(d)?e=!0:localStorage&&localStorage.setItem(d,'true'));if(1==e)this.orgDelayType=this.delayType='remove',this.execute=function(){return this};else this[b](c);return this};var Na=null,Ib=function(a,b){var c=g.select(b);Na=new MutationObserver(function(c){for(var e=!1,d=0;d<c.length;d++){var f=c[d];if('attributes'==f.type&&'observe.attributes'== a.delayType||'observe.all'==a.delayType)if(g.log('The '+f.attributeName+' attribute was modified for ',b),'all'==a.delayValue){e=!0;break}else{if(f.attributeName==a.delayValue){e=!0;break}}else if('childList'==f.type&&'observe.children'==a.delayType||'observe.all'==a.delayType)if(g.log('A child node has been added or removed for',b),'all'==a.delayValue){e=!0;break}else if(0<f.addedNodes.length&&'added'==a.delayValue){e=!0;break}else if(0<f.removedNodes.length&&'removed'==a.delayValue){e=!0;break}}1== e&&(a.afterShock(),Na.disconnect())});Na.observe(c,{attributes:!0,childList:!0})};_delayed().prototype.observe=function(a,b,c){this.orgDelayType=this.delayType='observe.'+b;this.delayValue=c?c:'all';if('undefined'===typeof MutationObserver)return g.log('Override defer on IE',this.url),this.none();this.execute=function(){if(0!=f.afterShockLoaded&&1!=this.executed)return this.executed=!0,g.log('Loading ',this.newNode,' via observer. It will loaded when ',a,'changes',b),Ib(this,a),this};return this}; _delayed().prototype.firstInput=function(a,b){return this.webvitals('first-input',a,b)};_delayed().prototype.largestContentfulPaint=function(a,b){return this.webvitals('largest-contentful-paint',a,b)};_delayed().prototype.timeToInteractive=function(a,b){return this.webvitals('time-to-interactive',a,b)};var Jb=function(){var a=g.calculateTti();0<a&&(clearInterval(f.ttiWatcherIntervalID),m.publish({topic:'web-vitals/time-to-interactive',persistent:!0,message:{time:a}}))};_delayed().prototype.webvitals= function(a,b,c){this.delayType=this.orgDelayType=a;this.delayValue=[a,b];0==g.hasWebVitals()?(g.log('webvitals fallback for ',this.url),this.defer(b?b:1E3)):this.execute=function(){var a=this;this.executed=!0;m.subscribe({topic:'web-vitals/'+this.orgDelayType,callback:function(e,d){d=!0;c&&(d=c(e));d&&(f.afterShockLoaded?a.afterShock():a.defer(b?b:0))}});'time-to-interactive'==this.orgDelayType&&(0<f.ttiWatcherInterval&&null==f.ttiWatcherIntervalID&&(f.ttiWatcherIntervalID=Wa(Jb,f.ttiWatcherInterval)), a.defer(b?b:1E3));0==g.hasWebVitals()&&(g.log('webvitals fallback for ',this.url),a.defer(b?b:1E3))};return this};_delayed().prototype.spa=function(a){if(a)return this[a]();var b=this;this.event('pubsub rum/spa/rendered');m.subscribe({topic:'rum/spa/transition/start',callback:function(a,e){b.event('pubsub rum/spa/rendered')}});m.subscribe({topic:'rum/spa/rendered',callback:function(a,e){b.none()}})};_delayed().prototype.startTransition=function(a){this.orgDelayType=this.delayType='startTransition'; this.delayValue=a;this.execute=function(){var a=this;this.executed=!0;m.subscribe({topic:'rum/spa/transition/start',callback:function(b,e){(g.undef(a.delayValue)||0<=(b.pageType+'-'+b.viewType).indexOf(a.delayValue))&&a.afterShock()}});return this};return this};_delayed().prototype.finishedRendering=function(a){this.orgDelayType=this.delayType='finishedRendering';this.delayValue=a;this.execute=function(){var a=this;this.executed=!0;m.subscribe({topic:'rum/spa/rendered',callback:function(b,e){(g.undef(a.delayValue)|| 0<=(b.pageType+'-'+b.viewType).indexOf(a.delayValue))&&a.afterShock()}});return this};return this};var ib=!1,jb=!1,N=function(){0==jb&&(m.publish({topic:'sequencing/user/first',async:!1,persistent:!0,message:{}}),g.removeEvent(document,'mousemove',N),g.removeEvent(document,'scroll',N),g.removeEvent(document,'keydown',N),g.removeEvent(document,'click',N),g.removeEvent(document,'touchstart',N),jb=!0)};_delayed().prototype.firstInteraction=function(a,b){this.orgDelayType=this.delayType='firstInteraction'; this.delayValue=[a,b];this.execute=function(){var c=this;this.executed=!0;m.subscribe({topic:'sequencing/user/first',callback:function(e,d){1!=a||f.afterShockLoaded?c.afterShock():c.defer(b?b:0)}})};return this};0==ib&&(ib=!0,g.addEvent(document,'mousemove',N),g.addEvent(document,'scroll',N),g.addEvent(document,'keydown',N),g.addEvent(document,'click',N),g.addEvent(document,'touchstart',N));var ta={};f.chaining={};_lastChainedResource=function(a,b){var c=ta[a];if(1==g.undef(c))return ta[a]=[b],null; c.push(b);return c[c.length-2]};m.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.chain=function(a){this.orgDelayType=this.delayType='chain';this.chainId=this.delayValue=a;if(1==g.undef(this.before))return this;if(1==g.isIE()&&0==f.optimizeIE)return g.log('Override defer on IE',this.url),this.none();var b=_lastChainedResource(a,this);this.chainIndex=null==b?0:b.chainIndex+1;this.key='chained-resource-'+a+'-'+this.chainIndex;this.beforeLoading(function(a){1==g.undef(a.writeSelector)&& (a.writeSelector=a.domElement||a.me);1==g.def(a.writeSelector)&&(a.writeSelector.id&&''!=a.writeSelector.id?a.writeSelector='#'+a.writeSelector.id:a.writeSelector.setAttribute&&(a.writeSelector.setAttribute('id',a.key),a.writeSelector='#'+a.key),0==f.sequenceWrites&&(f.sequenceWrites=!0,B.sequence.document(document)));var b=f.chaining[a.chainId];b&&0==a.chainIndex&&!0!==b.started&&(b.started=!0,m.publish({topic:'sequence/chain/'+a.chainId+'/starting',message:{id:a.key,config:b,resources:ta[a.chainId]}}))}); if(null==b){var c=f.chaining[a];1==g.def(c)?c(this):this.defer(10);f.chaining[a]={started:!1,resources:[]}}else this.execute=function(){this.key='chained-resource-'+a+'-'+this.chainIndex;this.before&&this.before.src&&(this.key+='/'+this.before.src);this.executed=!0;var c=this;m.subscribe({topic:'sequence/afterloaded/'+b.key,context:this,callback:function(a){g.log('Loading chained resource',a);c.afterShock()}});this.afterLoaded(function(a){var b=f.chaining[a.chainId],c=ta[a.chainId];c&&a.chainIndex== c[c.length-1].chainIndex&&!0!==b.finished&&(b.finished=!0,m.publish({topic:'sequence/chain/'+a.chainId+'/finished',message:{id:a.chainId,config:b,resources:c}}))})};return this};var na={},X=null;_isImageLike=function(a){return-1!='imgpicturesourceiframe'.indexOf(a)};var Kb=function(a,b){for(var c=f.scan.length,e=0;e<c;e++)if(f.scan[e]===b){var d=a.getAttribute('src'),g={domElement:a,src:''!=a.src?d:a.textContent,nodeName:'dom'};qa(g,g,function(c,e){c=c.clone();c.type='dom';c.src=d;c.newNode=e;f.delayed.push(c); 'script'==b&&(e=a.getAttribute('type')||'text/javascript',a.setAttribute(f.pre+'type',e),a.type='yo/sequence/'+c.delayType+'/'+c.delayValue,''!=a.src?(a.setAttribute(f.pre+'src',a.src),a.src=''):a.setAttribute(f.pre+'how','eval'))})}},kb=function(a){'none'===a&&null!==X?(X.disconnect(),X=null):'none'!==a&&'undefined'!==typeof MutationObserver&&null==X&&(X=new MutationObserver(function(a){for(var b=0;b<a.length;b++)for(var e=a[b].addedNodes,d=0;d<e.length;d++){var h=e[d];if(h.nodeType===Node.ELEMENT_NODE){var l= h.nodeName.toLowerCase();if('body'===l)v.node(h),'top'===f.scrapeLevel&&X.disconnect();else if('sequencing'===f.scrapeLevel&&(null==h.type||h.type.indexOf&&-1==h.type.indexOf('yo/sequence')))try{Kb(h,l)}catch(ja){g.log('Exception _sequenceScraping',ja)}}}}),X.observe(document,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))};kb(f.scrapeLevel);m.subscribe({topic:'core/configure',callback:function(a,b){Da();kb(a.scrapeLevel)}});na.createElement=function(a){a.yo_createElement||(a.yo_createElement= a.createElement,a.createElement=function(b){var c=a.yo_createElement(b),e=b.toLowerCase();g.log('_sequencing.createElement',c,b);if(('iframe'==e||'script'==e)&&1==g.undef(c.yo_src_override)){c.yo_src_override=!0;try{Object.defineProperty(c,'src',{set:function(a){if(this.yo_src=a)if(g.log('Object.src',a),nodeConfig=la(this),null!=nodeConfig&&'none'!=nodeConfig.delayType){if(a=nodeConfig.clone(),a.type='attributesrc',a.newNode=this,a.before=this,a.me=this,f.delayed.push(a),domCompleteTriggered)return a.execute()}else this.setAttribute('src', a)},get:function(){return this.yo_src?this.yo_src:''}})}catch(k){g.log(k)}}return c})};na.create=function(a){var b=null;if(1===arguments.length)b=V(a);else if(2===arguments.length){var c=arguments[0],e=arguments[1];b=V(function(a){if('dom'==a.nodeName&&a.domElement.src&&0<a.domElement.src.length){var b=!1,d=!1;null!=c&&(b=null!=a.domElement.src.match(c));null!=e&&(d=null!=a.domElement.src.match(e));if(1==b&&1==d)return Yo.utils.log('This node was both excluded and include. It will be excluded - ', a),!1;Yo.utils.log('Included - ',b,'Excluded - ',d,' - ',a);return d?!d:b}Yo.utils.log('NODE => bypass nothing to do ',a);return!1})}'sequencing'!=f.scrapeLevel&&B.configure({scrapeLevel:'sequencing'});b.nodeName='dom';return b};1==g.isIE()&&1==f.optimizeIE&&na.createElement(document);m.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.alwaysBefore=function(a){this.alwaysBefore=a;if(1==g.isIE()&&0==f.optimizeIE)return g.log('Override defer on IE',this.url),this.none();var b= this.execute;this.execute=function(){1==g.def(b)&&b.call(this);if(0!=f.afterShockLoaded&&1!=this.alwaysBeforeExecuted){this.alwaysBeforeExecuted=!0;g.log('Loading ',this.newNode,' via alwaysBefore timer event. It will load in ',this.alwaysBefore);var a=this;ca(function(){a.afterShock()},1*this.alwaysBefore);return this}};return this};var v={};domCompleteTriggered=!1;v.node=function(a){if(a=g.select(a))a.yo_ac=g.def(a.yo_ac)?a.yo_ac:a.appendChild,a.yo_ib=g.def(a.yo_ib)?a.yo_ib:a.insertBefore,a.yo_a= g.def(a.yo_a)?a.yo_a:a.append,a.appendChild=xb,a.append=yb,a.insertBefore=wb};v.clearNode=function(a){g.def(a.yo_ib)&&(a.insertBefore=a.yo_ib);g.def(a.yo_ac)&&(a.appendChild=a.yo_ac);g.def(a.yo_a)&&(a.append=a.yo_a)};v.addScanner=function(a){f.scan||(f.scan=[]);-1===g.inArray(a,f.scan)&&f.scan.push(a)};v.displayNow=function(a){!0===a&&'active'==B.rum.get().optState&&(a=!1);g.log('Handle the display of all visible tags up to now.');v.scanTags(!0,a);W.scrollHandler({})};v.createTimer=function(a,b){Yo.configure({lazyTimer:a}); b&&Yo.configure({lazyCheckSize:b})};v.resource=V;v.script=function(a,b,c){var e=V(a);1==g.isFunction(a)?(e.src='[object Function]'+a.name,e.key=c||'[object Function]'+a.name,e.func=a):(e.src=a,e.newNode=a,1==g.def(c)&&(e.key=c));1==g.undef(b)&&(b={});e.before={src:a,attributes:b};e.load=function(a){var c=document.createElement('script');c.type='text/javascript';b.async=!0;for(var e in b)null!=b[e]&&c.setAttribute(e,b[e]);c.yo_src=this.url;(a||document.getElementsByTagName('script')[0].parentNode).appendChild(c); return this};e.eval=function(){f.delayed.push(this);this.how='eval';this.type='inner';this.execute();return this};e.apply=function(a,b){f.delayed.push(this);this.how='apply';this.type='function';this.funcThis=a;this.funcParameters=b;this.execute();return this};e.writeLocation=function(a){this.writeSelector=a;return this};return e};v.xhr=I.create;v.content=function(a){var b=_loadFromDOM(a);m.publish({topic:'sequence/captured',message:{delayed:b,location:a}});b.load=function(){g.log('Sequence a script = ', a,', type '+this.type);null==this.delayType||'none'==this.delayType?g.log('Content found that needs to be loaded immediately'):g.log('Content found that needs to be sequenced',this.delayType,this.delayValue);this.execute(f.delayed.length-1);f.delayed.push(this)};return b};v.event=ea;v.image=function(a){1!=f.sequenceImage&&B.configure({sequenceImage:!0});var b=V(a);b.nodeName='image';b.webWorkerCallback=!1;b.webWorker=function(a,e){b.webWorkerCallback=e||!0;b.webWorkerFetchOptions=a;return b};return b}; v.dom=na.create;v.createElement=na.createElement;v.scanTags=function(a,b){if(f.scan){for(var c=0,e=f.scan.length;c<e;c++)_findTags(f.scan[c],b);!0!==a&&(f.scan=[])}};v.cloakImages=function(a,b){if(1!=g.undef(d.btoa))for(var c=0,e=a.length;c<e;c+=1){var k=a[c],f=document.getElementsByTagName(k);g.log('Cloak '+k);for(var h=0,l=f.length;h<l;h+=1)for(var m=f[h],n=0,p=b.length;n<p;n+=1){var r=b[n],t=m.getAttribute(r);null!=t&&(g.log('Cloak '+k,r,t),m.setAttribute(r,'data:image/cloaked;base64,'+btoa(t)))}}}; v.document=Ta;v.captureMethods=I.captureMethods;v.overrideMethods=I.overrideMethods;var lb=document.getElementsByTagName('script');0<lb.length&&v.node(lb[0].parentNode);v.node(document.getElementsByTagName('head')[0]);var Oa=document.getElementsByTagName('body');null!=Oa&&0<Oa.length&&v.node(Oa[0]);g.addEvent(document,'readystatechange',function(a){'interactive'===document.readyState&&(g.log('readystatechange is document.interactive, calling displayNow'),'unknown'!==B.rum.get().optState&&v.displayNow(!0))}); m.subscribe({topic:'core/start',callback:function(){Da()}});m.subscribe({topic:'core/configure',callback:function(a,b){Da()}});m.subscribe({topic:'core/load',callback:function(){domCompleteTriggered=!0;for(var a=0;a<f.delayed.length;a++)f.delayed[a].execute()}});f.services=[];var fa={add:function(a){a={afterLoaded:Ia,beforeLoading:Ha,host:a.host,key:'*'+a.host+'*',properties:a,name:a.name,budget:a.budget};f.services.push(a);m.publish({topic:'services/add',message:a});return a},findByHost:function(a){for(var b= fa.list(),c=0;c<b.length;c++){var e=b[c];if(1==g.matchUrl(e.host,a))return g.log('Found service configuration for '+a+' service ',e),e}g.log('Did NOT find service configuration for '+a+' checking local configuration. ');return null},findByName:function(a){for(var b=fa.list(),c=0;c<b.length;c++){var e=b[c];if(e.name==a)return g.log('Found service configuration for '+a+' service ',e),e}g.log('Did NOT find service configuration for '+a+' checking local configuration. ');return null},list:function(){return f.services}}, Y={};f.scheduling={onLoadTime:null,lastScheduleTime:6E3,last:100,step:100,scheduled:!1,hosts:[],priorities:{low:{last:3E3,step:100},medium:{last:1E3,step:100},high:{last:100,step:100},critical:{last:-1}},prioritiesToKeep:[],serviceToKeep:[],budgetTime:!1,servicesToBudget:[],loadTime:(new Date).getTime()};Y.resource=function(a){return{afterLoaded:Ia,beforeLoading:Ha,src:a,key:'*'+a+'*'}};Y.bestFit=function(){f.scheduling.type='bestfit';f.scheduling.scheduled=!0};Y.priority=function(a){f.scheduling.type= 'priority';f.scheduling.scheduled=!0;if(a&&a.services)for(var b=0;b<a.services.length;b++)B.services.add(a.services[b])};Y.spread=function(a){f.scheduling.type='spread';g.def(a)&&(f.scheduling.step=a);f.scheduling.scheduled=!0};Y.configure=function(a){for(var b in a)f.scheduling[b]=a[b];m.publish({topic:'schedule/configure',message:f});return f.scheduling};Y.budget=function(a){if(a){a.budgetTime&&(f.scheduling.budgetTime=a.budgetTime);a.prioritiesToKeep&&(f.scheduling.prioritiesToKeep=a.prioritiesToKeep); if(a.servicesToBudget){f.scheduling.servicesToBudget=a.servicesToBudget;for(var b=0;b<a.servicesToBudget.length;b++){var c=a.servicesToBudget[b];c.budget=!0;B.services.add(c)}}f.scheduling.budgeter=a.budgeter?a.budgeter:Lb}};m.subscribe({topic:'core/start',callback:function(){}});m.subscribe({topic:'sequence/captured',callback:function(a,b){null!=f.scheduling.onLoadTime&&(new Date).getTime()>f.scheduling.onLoadTime+f.scheduling.lastScheduleTime?g.log('Scheduling has expired',f.scheduling.lastScheduleTime): 1==f.scheduling.scheduled&&('spread'==f.scheduling.type?Pa(a,b):'bestfit'!=f.scheduling.type&&'priority'==f.scheduling.type&&Mb(a,b))}});var Mb=function(a,b){if(a.newNode){var c=a.newNode.src;if(c&&0<c.length){var e=Qa(c),d=fa.findByHost(e);if(null!=e&&-1==f.scheduling.hosts.indexOf(e)){if(null==d)return Pa(a,b);var h=f.scheduling.priorities[d.properties.priority];g.log('Service found ',d.properties.name,d.properties.priority);if(1==g.undef(h))return Pa(a,b);0<=h.last&&(h.last+=h.step,m.subscribe({topic:'sequence/beforeloading/*'+ e+'*',callback:function(){-1==f.scheduling.hosts.indexOf(e)&&f.scheduling.hosts.push(e)}}),b=null!=f.scheduling.budgeter?f.scheduling.budgeter(d,c,a,f.scheduling):!1,g.log('Scheduling resource ',a.newNode.src,e,'defer',h.last,', isBudgeted = ',b),1==b?a.newNode.delayType='remove':(a.newNode.delayType='defer',a.newNode.delayValue=h.last))}}}},Pa=function(a,b){if(a.newNode&&(b=a.newNode.src)&&0<b.length){var c=Qa(b),e=fa.findByHost(b);null!=c&&-1==f.scheduling.hosts.indexOf(c)&&(f.scheduling.last+= f.scheduling.step,m.subscribe({topic:'sequence/beforeloading/*'+c+'*',callback:function(){-1==f.scheduling.hosts.indexOf(c)&&f.scheduling.hosts.push(c)}}),b=null!=f.scheduling.budgeter?f.scheduling.budgeter(e,b,a,f.scheduling):!1,g.log('Scheduling resource ',a.newNode.src,c,'defer',f.scheduling.last,', isBudgeted = ',b),1==b?a.newNode.delayType='remove':(a.newNode.delayType='defer',a.newNode.delayValue=f.scheduling.last))}},Lb=function(a,b,c,e){c=e.budgetTime;var d=Qa(b);if(!1!==c){if((new Date).getTime()- f.scheduling.loadTime>=c){if(-1!=e.hosts.indexOf(d))return!1;if(e.servicesToBudget&&0<e.servicesToBudget.length)return(a=fa.findByHost(b))&&!0===a.budget?(y.addViolation(5,b),!0):!1;if(-1!=e.prioritiesToKeep.indexOf(a.properties.priority)||null!=a&&0==a.budget)return!1;y.addViolation(5,b);return!0}null!=a&&(a.budget=!1)}return!1},Qa=function(a){return(a=a.split('/')[2])?a=a.split('.').slice(-2).join('.'):null};m.subscribe({topic:'core/load',callback:function(){f.scheduling.onLoadTime=(new Date).getTime()}}); var Ra={create:function(a){var b=f;-1==b.srcAttrs.indexOf('data-src')&&b.srcAttrs.push('data-src');-1==b.srcAttrs.indexOf('data-srcset')&&b.srcAttrs.push('data-srcset');b.imagePipeline=a;m.subscribe({topic:'sequence/beforeloading/*',callback:function(b,e){g.log('Yo.imagePipeline.beforeLoading - ',b);e=b.before;var c=a.optimizer||Ra.optimizer;c&&e&&e.nodeName&&'img'==e.nodeName.toLowerCase()&&(e=c(e,b.srcAttr))&&(g.log('Yo.imagePipeline updating image src - ',e),b.srcAttr=e)}})},rewrite:function(a, b){if(-1==b.indexOf('.yottaa.net')){var c=Yo.stats().config.imagePipeline;g.log('Yo.imagePipeline.rewrite',c,a,b);return location.protocol+c.cdn+'/'+c.profileId+'/'+a+'/'+c.version+'/'+b}},optimizer:function(a,b,c){g.log('Yo.imagePipeline default image optimized',a,b);c=c||[];(a=g.browser())&&'chrome'===a.name?c.push('f_webp'):a&&'safari'===a.name&&13<=a.version&&c.push('f_jp2');return Ra.rewrite('o~'+c.join(','),b)}},nb=function(a,b){var c='ul= dl= dt= sd= sr= vp= ct= rtt='.split(' ');c[0]+=navigator.language; c[1]+=encodeURIComponent(d.location.href.substring(0,1E3));c[2]+=encodeURIComponent(document.title);c[3]+=d.screen.colorDepth;c[4]+=d.screen.width+','+d.screen.height;c[5]+=d.screen.availWidth+','+d.screen.availHeight;if(b)for(var e in b)c.push(e+'='+encodeURIComponent(b[e]));b=navigator.connection||navigator.mozConnection||navigator.webkitConnection;c[6]+=b?b.effectiveType:'unknown';c[7]+=b?b.rtt:'unknown';try{if(d.localStorage&&localStorage.getItem){var k=localStorage.getItem('rapid.testVariations'); if(k&&'undefined'!=k)try{var g=JSON.parse(k);for(k=0;k<g.length;k++){var l=g[k];if(!1!==l.sticky){var m=(new Date).getTime()>l.time+(l.timeout||f.sessionTimeout);'visitor'!=l.sticky&&!1!==m||c.push('testVariation='+l.testId+'-'+l.variationName)}}}catch(ka){h.log('Configuration error - Exception parsing test variations',ka)}if(-1!=(iPos=d.location.hash.indexOf('yoQoeConfig='))){var n=d.location.hash.substring(iPos+12).split('&');c=c.concat(n)}}}catch(ka){h.log('Configuration error - create test variation data.', ka)}if(1==h.def(d.fetch)&&1==f.newConfigFetch)fetch(a+'&'+c.join('&')).then(function(b){b.text().then(function(b){mb(b,a)});return b})['catch'](function(a){h.log('Error from loading ctrl configuration via fetch',a)});else g=null,g=d.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject('Microsoft.XMLHTTP'),g.open('GET',a+'&'+c.join('&'),!1),g.send(''),mb(g.responseText,a)},mb=function(a,b){try{var c=document.createElement('script');c.type='text/javascript';c.text=a;document.getElementsByTagName('head')[0].appendChild(c); h.log('Adding Rapid CTRL script into DOM: ',b);if(d.localStorage&&localStorage.setItem){var e=y.get().testVariations;a=[];if(e){for(b=0;b<e.length;b++){var k=e[b];k.time=(new Date).getTime();k.timeout=k.timeout||f.sessionTimeout;k.sticky=1==k.sticky?'session':k.sticky;a.push(k.testId)}var g=localStorage.getItem('rapid.testVariations');try{var l=JSON.parse(g);for(b=0;b<l.length;b++)-1==a.indexOf(l[b].testId)&&e.push(l[b])}catch(ja){h.log('Configuration error - Exception parsing test variations',ja)}localStorage.setItem('rapid.testVariations', JSON.stringify(e))}}m.publish({topic:'core/ctrlConfigLoaded',message:x.config})}catch(ja){h.log('Error handling the response from the ctrl configuration call',ja)}},ob={releaseDate:'2024-05-08T14:03Z',version:'8.1.0',log:!1,resources:[],messageBridge:!1,defaultBlockedResponse:{status:200,body:'Blocked by service-worked'},security:{},handledResources:[],documentUri:'',publishHit:!0,caches:[],cacheHits:[],cacheTimeToLive:3E4,maxRefreshCount:3,cacheCheck:'htmlDocuments'};self._serviceWorkerConfig=ob; var ua={},Nb={EQ:function(a,b){return a===b},NEQ:function(a,b){return a!==b},CONTAIN:function(a,b){return-1<a.indexOf(b)},'NOT-CONTAIN':function(a,b){return-1===a.indexOf(b)},'STARTS-WITH':function(a,b){return 0===a.indexOf(b)},'ENDS-WITH':function(a,b){return a.indexOf(b)===a.length-b.length},IN:function(a,b){return!0===b.includes(a)},'NOT-IN':function(a,b){return!1===b.includes(a)},REGEX:function(a,b){return Sa(a,b)},MATCH:function(a,b){return Sa(a,b)},'NOT-MATCH':function(a,b){return 0==Sa(a,b)}, '>':function(a,b){try{return parseFloat(b)>parseFloat(a)}catch(c){return!1}},'>=':function(a,b){try{return parseFloat(b)>=parseFloat(a)}catch(c){return!1}},'<':function(a,b){try{return parseFloat(b)<parseFloat(a)}catch(c){return!1}},'<=':function(a,b){try{return parseFloat(b)<=parseFloat(a)}catch(c){return!1}},'==':function(a,b){try{return parseFloat(a)==parseFloat(b)}catch(c){return!1}},'!=':function(a,b){try{return parseFloat(a)!=parseFloat(b)}catch(c){return!1}}},Ob={PROTOCOL:function(a){return a.protocol}, HOSTNAME:function(a){return a.hostname},HOST:function(a){return a.hostname},PATHNAME:function(a){return a.pathname},SEARCH:function(a){return a.search},EXTENSION:function(a){var b=a.pathname.lastIndexOf('.');return-1==b?'':a.pathname.substring(b+1)}},Pb={COUNTRYNAME:function(a){return a.countryname},COUNTRYCODE:function(a){return a.countrycode},REGION:function(a){return a.region},REGIONCODE:function(a){return a.regioncode},METRO:function(a){return a.metro},ZIPCODE:function(a){return a.zipcode},LONGITUDE:function(a){return a.longitude}, LATITUDE:function(a){return a.latitude},CONTINENT:function(a){return a.continent}},Qb={ALL:function(a){return!1},'function':function(a,b,c,e){return a.condition},'DOCUMENT-URI':function(a,b,c,e){return ob.documentUri},'REQUEST-URI':function(a,b,c,e){return b.url},'USER-AGENT':function(a,b,c,e){return(e||d).navigator.userAgent},'User-Agent':function(a,b,c,e){return b.headers['User-Agent']},URI:function(a,b,c,e){return d.location.toString()},'URI-Component':function(a,b,c,e){return Ob[a.request_property.toUpperCase()](b.uri)}, Geo:function(a,b,c,e){return Pb[a.request_property.toUpperCase()](b.geo)}};ua.matchAll=function(a,b,c){return new Promise(function(e,d){var f=ua.match(b,a,c);1!=f?d(f):e(a)})};ua.match=function(a,b,c){for(var e=0;e<b.length;e++)if(1==h.def(b[e].match)){a:{var d=a;for(var f=b[e].match,g=c,l=0;l<f.length;l++)if(0==pb(f[l],d,g)){d=f[l];break a}d=!0}if(1!=d)return!1}else if(0==pb(b[e],a,c))return b[e];return!0};var pb=function(a,b,c){var e=Qb[a.type||a.name];return e?(c=e(a,b,c,self),'function'===a.type? a.condition(a,b):'ALL'===a.type?!0:(b=Nb[a.operator])&&c&&a.condition?b(c,a.condition):!1):!1},Sa=function(a,b){try{if('object'===typeof b)return null!==a.match(b,'i');var c=b.indexOf('(?i)');return-1==c?null!==a.match(b):null!==a.match(new RegExp(b.substring(c+4),'i'))}catch(e){return h.log('Bad Regex in Condition',e),!1}};v.serviceWorker=function(a){var b=V(a);b.finalize=function(){h.log('Sending the url ',a,'to the service worker so it can sequence it.');m.publish({topic:'service-worker/broker/sequence/finalize', message:[a,b.delayType,b.delayValue]})};return b};var O={create:function(a){1==h.undef(a.exclusions)&&1==h.def(f.serviceWorker)&&1==h.def(f.serviceWorker.exclusions)&&(a.exclusions=f.serviceWorker.exclusions);O._broker('create',arguments)},destroy:function(a){O._broker('destroy',arguments)},destroyAll:function(){O._broker('destroyAll',arguments)},putResources:function(a){O._broker('putResources',arguments)},removeResources:function(a){O._broker('removeResources',arguments)},refreshResources:function(a){O._broker('refreshResources', arguments)},stats:function(a){var b=m.subscribe({topic:'service-worker/cache/stats/return',callback:function(c){a(c.originalMessage);m.unsubscribe(b)}});O._broker('stats',[])},onCacheHit:function(a){m.subscribe({topic:'service-worker/cache/hit',callback:function(b){a(b.originalMessage.url)}})},clientValidation:function(a,b){O._broker('clientValidation',arguments)},_broker:function(a,b){m.publish({topic:'service-worker/broker/cache/'+a,message:Array.prototype.slice.call(b)})}};m.subscribe({topic:'core/start', callback:function(a,b){O.stats(function(a){x.serviceWorkers.cacheStats=a})}});var t={cache:O};f.serviceWorker={};t.manage=function(a){var b=a||f.serviceWorker;if('serviceWorker'in navigator&&!0===h.def(b))return new Promise(function(a,e){!0===Yo.utils.undef(b.scriptUrl)?b.scriptUrl='https://'+d.location.host+'/yottaa.service.worker.js':0==b.scriptUrl.startsWith('http')&&(1==b.scriptUrl.startsWith('/')&&(b.scriptUrl=b.scriptUrl.substring(1)),b.scriptUrl='https://'+d.location.host+'/'+b.scriptUrl); 'install'===b.mode?t.install(b.scriptUrl,b.scope).then(function(c){null!=navigator.serviceWorker.controller&&!0===h.def(b.requiredVersion)?t.version().then(function(c){b.currentVersion=c.version;c.version!==b.requiredVersion?(Yo.utils.log('Service worker version mismatch; updating version from: ',c.version,'to',b.version),t.update(b.scriptUrl).then(function(){Yo.utils.log('Successfully updated version from: ',c.version,'to',b.version);a(c)}).catch(function(a){Yo.utils.log('Error updating version from: ', c.version,'to',b.version,' Error:',a);e(a)})):(Yo.utils.log('Service worker versions match ',b.version),a(c))}).catch(function(a){Yo.utils.log('Error getting version from: Error:',a);e(a)}):(a(c),t.version().then(function(a){b.currentVersion=a.version}))}).catch(function(a){Yo.utils.log('Error installing service worker. Error:',a);e(a)}):'uninstall'===b.mode?t.uninstall(b.scriptUrl).then(function(b){Yo.utils.log('Successfully uninstalled service worker');a(b)}).catch(function(a){Yo.utils.log('Error uninstalling service worker. Error:', a);e(a)}):(Yo.utils.log('No mode was set for on the configuration variable. { mode: <install|uninstall> }'),a({}))})};t.install=function(a,b){if('serviceWorker'in navigator)return new Promise(function(c,e){h.log('ServiceWorker API present, we will register our worker.');navigator.serviceWorker.register(a,{scope:b}).then(function(b){h.log('ServiceWorker registration successful',a,b.scope);m.publish({topic:'service-worker/installed',message:{scope:b.scope,scriptURL:b.active?b.active.scriptURL:a}}); t.version().then(function(a){!0===h.undef(f.serviceWorker)&&(f.serviceWorker={});f.serviceWorker.currentVersion=a.version});c(b)}).catch(function(a){h.log('ServiceWorker registration failed: ',a);m.publish({topic:'service-worker/exception',message:a});e(a)})})};t.uninstall=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){h.log('ServiceWorker API present, we will attempt to unregister our worker.');t.get(a).then(function(e){e.unregister().then(function(c){h.log('ServiceWorker has been unregistered successfully, ', c);m.publish({topic:'service-worker/uninstalled',message:{scope:e.scope,scriptURL:e.active?e.active.scriptURL:a}});b(e)}).catch(function(b){h.log('Failed to unregister the url',a,b);c(b)})}).catch(function(b){h.log('We did not get the service work for',a,' we cannot unregister',b);c(b)})})};t.version=function(){if('serviceWorker'in navigator)return new Promise(function(a,b){if(1==Yo.utils.def(f.serviceWorker.version))a(f.serviceWorker.version);else{var c=m.subscribe({topic:'service-worker/version/info/return', callback:function(b){a(b.originalMessage);m.unsubscribe(c)}});m.publish({topic:'service-worker/broker/version/info',message:{}})}})};t.update=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){h.log('ServiceWorker API present, we will attempt to update our worker.');t.get(a).then(function(e){e.update().then(function(c){h.log('ServiceWorker has been updated successfully, ',c);m.publish({topic:'service-worker/updated',message:{scope:e.scope,scriptURL:e.active?e.active.scriptURL: a}});b(e)}).catch(function(b){h.log('Failed to update the url',a,b);c(b)})}).catch(function(b){h.log('We did not get the service work for',a,' we cannot update',b);c(b)})})};t.capability=function(){return'serviceWorker'in navigator};t.get=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){navigator.serviceWorker.getRegistrations().then(function(e){h.log('Service Workers registrations',e);(e=e.find(function(b){return 1==h.def(b.active)&&null!=b.active&&a==b.active.scriptURL}))? b(e):c({error:'Script url was not found: '+a})}).catch(function(a){c(a)})})};t.configure=function(a){for(var b in a)f.serviceWorker[b]=a[b];m.publish({topic:'service-worker/configure',message:f.serviceWorker});return f.serviceWorker};if('serviceWorker'in navigator){h.log('ServiceWorker API present, initialize communication layer');try{navigator.serviceWorker.addEventListener('message',function(a){if(a.data&&a.data.topic)return m.publish({topic:a.data.topic,message:{sendFromServiceWorker:!0,originalMessage:a.data.message}})}), m.subscribe({topic:'core/load',callback:function(a,b){m.publish({topic:'service-worker/application/loaded',message:{}})}}),m.subscribe({topic:'service-worker/start',callback:function(a,b){B.configure({})}})}catch(a){h.log('Error attaching to service worker messages, most likely a permissions issue',a)}m.subscribe({topic:/service-worker.*/,callback:function(a,b){try{if(navigator.serviceWorker.controller&&!0!==a.sendFromServiceWorker)try{return navigator.serviceWorker.controller.postMessage({message:a, topic:b})}catch(c){h.log('Post message to the service worker error',c)}}catch(c){h.log('Error attaching to service worker messages, most likely a permissions issue',c)}}})}var w={ready:!1,version:1,prefetchAfter:36E5,initializeCore:function(a,b){var c=w.state();c.cacheNames=a||[];c.cacheObjects={};c.cacheUpdates=[];c.serviceWorkerScriptUrl=b||f.serviceWorker.scriptUrl;c.version!=w.version&&(c.objectsAlreadyInCache=[]);c.version=w.version;w.state(c);w._serviceWorkerReady()},state:function(){if(0== arguments.length){try{return JSON.parse(localStorage.getItem('_tec.state'))||{}}catch(a){h.log('_tec: Error getting state',a)}return{}}try{return arguments[0].updatedAt=new Date,localStorage.setItem('_tec.state',JSON.stringify(arguments[0])),arguments[0]}catch(a){h.log('_tec: Error updating state',a)}},createCache:function(a,b){m.subscribe({topic:'tec/ready',callback:function(){var c=w.state();-1===c.cacheNames.indexOf(a.name)?(h.log('_tec: Adding cache object that was NOT already created',a),c.cacheNames.push(a.name), c.cacheObjects[a.name]=a,t.cache.create(a)):!0===b&&(h.log('_tec: Forcing cache object to be created that WAS already created',a),c.cacheObjects[a.name]=a,t.cache.create(a));w.state(c)}})},refreshResources:function(a,b){var c=w.state(),e=b||c.cacheNames;h.log('_tec: refreshResources for ',e,a||[/.*/]);m.subscribe({topic:'tec/ready',callback:function(){e.forEach(function(b){var e=c.cacheObjects[b];b={name:h.def(e)?e.name:b,process:'single',resources:a||[/.*/]};1==h.def(e)&&(b.version=e.version);t.cache.refreshResources(b)})}})}, removeResources:function(a,b){var c=b||w.state().cacheNames;h.log('_tec: removeResources for ',c,a||[/.*/]);m.subscribe({topic:'tec/ready',callback:function(){c.forEach(function(b){var c=w.state(),e=c.cacheObjects[b];c.objectsAlreadyInCache=[];'cart-readiness'===b&&(c.cartCleared=!0);w.state(c);b={name:h.def(e)?e.name:b,resources:a||[/.*/]};1==h.def(e)&&(b.version=e.version);t.cache.removeResources(b)})}})},putResources:function(a,b){var c=w.state().cacheObjects[a];h.log('_tec: putResources for ', a,b,c);m.subscribe({topic:'tec/ready',callback:function(){var e={name:h.def(c)?c.name:a,resources:b};1==h.def(c)&&(e.version=c.version);t.cache.putResources(e)}})},sequencingInteraction:function(a,b,c){a.forEach(function(a){a.afterLoaded(function(){'refresh'===b?w.refreshResources(c):w.removeResources(c)})})},navigationInteraction:function(a,b,c){m.subscribe({topic:'core/load',callback:function(){null!=a.find(function(a){return a instanceof RegExp?null!=d.location.toString().match(a):-1!==a.indexOf('*')? null!=d.location.toString().match(new RegExp(a.replace(/\*/g,'.*'))):d.location.toString()===a})&&('refresh'===b?w.refreshResources(c):w.removeResources(c))}})},smartPrefetch:function(a,b,c,d){m.subscribe({topic:'tec/ready',callback:function(){b&&0<b.length&&'string'!==typeof b[0]&&(b=b.filter(function(a){return 1==h.undef(a.deviceType)?!0:h.isIos()||h.isAndroid()?2==a.deviceType:1==a.deviceType}).map(function(a){return a.pageUrl}));var e=w._findOnPageUrls(b,c||3);h.log('_tec: smartPrefetch being setup', a,b,c,e);w._fillCache(a,e,d||w.prefetchAfter)}})},cartReadiness:function(a,b){m.subscribe({topic:'tec/ready',callback:function(){var c=w.state();-1==c.cacheNames.indexOf(a)?(h.log('_tec: create cart-readiness cache',a,b),c.cacheNames.push('cart-readiness'),t.cache.create({name:'cart-readiness',prefetch:!0,process:'single',resources:[a],expireAfter:b||3E5,htmlDocuments:!0}),w.state(c)):!0===c.cartCleared?(w.putResources('cart-readiness',[a]),c.cartCleared=!1,w.state(c)):h.log('_tec: cart-readiness cache should already be created', a,b)}})},clientValidation:function(a,b){m.subscribe({topic:'tec/ready',callback:function(){Yo.serviceWorker.cache.clientValidation(a,b)}})},_serviceWorkerReady:function(){!1===w.ready&&navigator.serviceWorker.ready.then(function(a){h.log('_tec: Service worker ready notification, configure message bridge',a);t.configure({messageBridge:!0});var b=m.subscribe({topic:'service-worker/*',callback:function(a,d){!1===w.ready&&(h.log('_tec: Service worker has started sending message consider it activated', d),w.ready=!0,m.unsubscribe(b),m.publish({topic:'tec/ready',persistent:!0,message:{}}),t.configure({messageBridge:!1}))}})})},_isExpired:function(a,b){a=(new Date(a)).getTime();return(new Date).getTime()>a+(b||w.prefetchAfter)},_findOnPageUrls:function(a,b,c){var e=Array.from(document.querySelectorAll('a:not([href*="#"])')).map(function(a){return a.href});a=a.map(function(a){return-1!=a.indexOf('://'+d.location.hostname)?a:0===a.indexOf('/')?d.location.protocol+'//'+d.location.host+a:d.location.protocol+ '//'+d.location.host+'/'+a});var f=w.state();f.updatedAt&&1!=w._isExpired(f.updatedAt,c)||(f.objectsAlreadyInCache=[]);var g=f.objectsAlreadyInCache||[];return a.reduce(function(a,c){a.length<=b&&-1!=e.indexOf(c)&&-1==g.indexOf(c)&&a.push(c);return a},[])},_fillCache:function(a,b){if(0<b.length){var c=w.state(),d=c.cacheObjects[a];c.objectsAlreadyInCache=(c.objectsAlreadyInCache||[]).concat(b);w.state(c);var f=!1;m.subscribe({topic:'tec/ready',callback:function(c,e){h.log('_tec: fill cache for smartPrefetch with new', b);0==f&&(f=!0,c={name:h.def(d)?d.name:a,process:'single',refreshExisting:!1,resources:b},1==h.def(d)&&(c.version=d.version),t.cache.putResources(c))}})}}};d.Yo||(d.Yo={});B={utils:g,pubsub:m,configure:function(a,b){if('string'===typeof a)nb(a,b);else for(var c in a)'resources'==c?f.resources=f.resources.concat(a.resources):'configurationUrl'==c?nb(a[c],b):f[c]=a[c];m.publish({topic:'core/configure',message:f})},sequence:v,rum:y,insert:{HEAD_START:'head_start',HEAD_END:'head_end',BODY_START:'body_start', BODY_END:'body_end',location:function(a){document.write((null!=document.body?['<d',"iv id='yo_tag_",a,"'></d",'iv>']:['<scr',"ipt id='yo_tag_",a,"'></scr",'ipt>']).join(''));m.publish({topic:'tag/location/'+a,persistent:!0})},resource:function(a,b,c,d){var e=B.sequence.script(a);e.loaded=!0;m.subscribe({topic:'tag/location/'+b,callback:function(){var a=g.select('#yo_tag_'+b);B.sequence.node(a);c&&''!=c||(c='none');e[c](d);e.loaded=!1;e.load(a)}});return e},script:function(a,b,c,d){var e=Yo.sequence.script(a); e.loaded=!0;m.subscribe({topic:'tag/location/'+b,callback:function(){c&&''!=c||(c='none');e[c](d);e.loaded=!1;e.eval()}});return e},content:function(a,b,c,d){var e=document.createElement('script');c&&''!=c||(c='none');e.setAttribute('type','yo/sequencing/'+c+'/'+d);var f=Yo.sequence.content(e);f.loaded=!0;0==b.indexOf('css:')?m.subscribe({topic:'core/load',callback:function(){g.def(a.nodeName)?e.appendChild(a):e.innerHTML=a;var c=b.split(':');f.before=g.select(c[1]);3==c.length&&('after'==c[2]?null== f.before.nextSibling?(f.before=f.before.parentNode,f.how='append'):f.before=f.before.nextSibling:'prepend'==c[2]?0<f.before.childNodes.length?f.before=f.before.childNodes[0]:f.how='append':'append'==c[2]&&(f.how='append'));f.loaded=!1;f.load()}}):m.subscribe({topic:'tag/location/'+b,callback:function(){g.def(a.nodeName)?e.appendChild(a):e.innerHTML=a;f.loaded=!1;f.before=g.select('#yo_tag_'+b);f.load()}});return f}},stats:ma,geo:function(){if(0===arguments.length)return x.geo;1===arguments.length&& (x.geo=arguments[0],m.publish({topic:'core/geo',message:arguments[0]}))},services:fa,schedule:Y,imagePipeline:Ra,spa:{trackMetrics:function(){y.spa()},startTransition:function(a,b){return m.publish({topic:'rum/spa/transition/start',message:{pageType:a,viewType:b}})},finishedRendering:function(a,b,c){return m.publish({topic:'rum/spa/rendered',message:{pageType:a,viewType:b,trigger:c}})}},context:ua,serviceWorker:t,tec:w};d.Yo=B;m.publish({topic:'core/start',message:B});return B}); 
let yoRequest = {
  uri: {
    pathname: window.location.pathname,
    hostname: window.location.hostname,
    protocol: window.location.protocol,
    search: window.location.search,
    extension: window.location.pathname.substring(window.location.pathname.lastIndexOf(".") + 1)
  },
  headers: {
    "User-Agent": navigator.userAgent
  },
  geo: {}
};

(function(yottaaRequest){
  Yo.rum.initialize("https://qoe-1.yottaa.net/log-nt/event", 5.000000 > Math.random() * 100.0, "TMQFoRgWtXmZaw", true);
  var getForcedYoOptState = function(defaultValue){
      var urlHash = new URL(document.URL).hash;
      if (urlHash.length > 1) {
        var cookieTry = urlHash.substr(1);
        var split = cookieTry.split("=", 2);
        if (split[0] == "yo-opt-state" && split.length == 2) {
          document.cookie = cookieTry;
        }
      }
      if (document.cookie.includes('yo-opt-state')) {
         var found = document.cookie.split(';')
                   .map(c => c.trim())
                   .filter(c => c.startsWith("yo-opt-state"))
                   .map(c => {
                         if (c.includes("=")) {
                           pair = c.split("=");
                           return pair[1];
                         }
                         else {
                           return false;
                         }
                       })
                   .reduce(function(a, b) { return b;});
          if (found) {
             return found;
          }
      }
      return defaultValue;
  };
  var optState = getForcedYoOptState("none");
  var isControlRequest = optState == "control" || (optState == "none" && 0.01 > Math.random());
  var isBypassRequest = optState == "bypass";

  // Revenue Tracking Enabled
  Yo.rum.trackBusinessValue && Yo.rum.trackBusinessValue();
  // no-op the api to prevent multiple calls
  Yo.rum.trackBusinessValue && (Yo.rum.trackBusinessValue = function(){});

  // Using Profile: Default Profile

  Yo.rum.set("profileId", 42728);

  // Action Sequence Google Analytics Universal

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("analytics.js")).none();

    optState = "active";
  }
  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("google-analytics.com")).none();

  }
  // Action JavaScript

  if(!isBypassRequest){
  Yo.pubsub.subscribe({
  topic: 'rum/beforeSend',
  callback: function(message, topic){
    if (dataLayer && typeof dataLayer === 'object'){
      for (var x = 0; x < dataLayer.length; x++){
        if ( dataLayer[x] && dataLayer[x].page && dataLayer[x].page.pageType){
          message.pageCategory = dataLayer[x].page.pageType.replace(/\s+/g, '').toLowerCase();
        } 
      }
    }
  }
});
  }
  // Action Sequence

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource("//" + window.location.hostname).none();

    optState = "active";
  }
  // Action Sequence Google Tag Manager

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("googletagmanager")).none();

    optState = "active";
  }
  // Action Sequence jQuery

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("jquery")).none();

    optState = "active";
  }
  // Action Sequence iFrames

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("about:blank")).none();

    optState = "active";
  }
  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("javascript:")).none();

  }
  // Action Sequence

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("/.*/")).defer(0);

    optState = "active";
  }
  if (isBypassRequest) {
    Yo.rum.set("optState", "bypass");
  } else if (isControlRequest) {
    Yo.rum.set("optState", "control");
  } else {
    Yo.rum.set("optState", optState);
  }
})(yoRequest);
